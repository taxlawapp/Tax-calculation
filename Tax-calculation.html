<!DOCTYPE html>
<html lang="ar">
<head>
    <!-- رابط مكتبة Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- رابط خط Cairo من Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Beiruti:wght@400;700&display=swap" rel="stylesheet">   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شاشات إحتساب الضريبة</title>
          <!-- لو الأيقونة بصيغة PNG -->
    <link rel="icon" type="image/png" href="https://www3.0zz0.com/2024/05/30/07/482205963.png">
    <style>
        body {
            font-family: 'Beiruti', sans-serif;
            direction: rtl; /* تحديد اتجاه النص إلى اليمين */
            text-align: center; /* محاذاة النص إلى الوسط */
            background-color: #e1f5fe;      
            margin: 0;
            padding: 0;
            transition: background-color 0.3s, color 0.3s; /* تأثير الانتقال للتغييرات */
            -webkit-user-select: none; /* للمتصفحات التي تعتمد على محرك WebKit */
            -moz-user-select: none; /* لمتصفح فايرفوكس */
            -ms-user-select: none; /* لإنترنت إكسبلورر */
            user-select: none; /* المتصفحات الأخرى */          
        }

        .marquee {
            width: 100%; /* عرض كامل */
            overflow: hidden; /* إخفاء المحتوى الزائد */
            color: #1a237e; /* لون النص */
            padding: 2.5px 0; /* حشو داخلي */
            font-size: 18px; /* حجم النص */
            font-weight: bold; /* وزن النص */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* ظل خفيف */
            position: fixed; /* تثبيت العنصر في الأعلى */
            background: linear-gradient(to right, white, #e1f5fe); /* خلفية متدرجة */      
            top: 0; /* تثبيت العنصر في الأعلى */
            z-index: 1000; /* ترتيب العنصر */
            padding-bottom: 30px; /* حشو سفلي */
            margin-top: 52.5px; /* مسافة علوية */           
        }

        .marquee span {
            display: inline-block; /* عرض كتلة داخل السطر */
            animation: marquee 10s linear infinite; /* تطبيق الحركة */
        }

        @keyframes marquee {
            from {
                transform: translateX(-100%); /* تحريك النص من اليسار */
            }
            to {
                transform: translateX(100%); /* إلى اليمين */
            }
            animation-direction: normal; /* اتجاه الحركة */
        }

.view-toggle {
    margin-top: 0px; /* إزالة المسافة العلوية */
    display: flex; /* استخدام Flexbox لتوزيع الأزرار */
    justify-content: center; /* توسيط الأزرار أفقياً */
    gap: 2px; /* المسافة بين الأزرار */
    margin: 5px 0; /* تقليل المسافة العلوية والسفلية */
    position: fixed; /* تثبيت العنصر في الأعلى */
    top: 40px; /* تثبيت العنصر أسفل الشريط المتحرك */
    width: 100%; /* عرض الأزرار بالكامل */
    z-index: 1000; /* ضبط ترتيب العنصر */
    background: linear-gradient(to right, white, #e1f5fe);      
    padding: 5px 0; /* الحشو الداخلي */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* إضافة ظل خفيف */
    margin-top: 50px; /* إضافة حشو سفلي لتقليل المسافة بين العناصر */ 
  
}

.view-toggle button {
    background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */ 
    color: white; /* لون النص في الأزرار */
    padding: 10px 20px; /* الحشو الداخلي للأزرار */
    cursor: pointer; /* تغيير شكل المؤشر عند التحويم */
    font-size: 16px; /* حجم النص */
    font-weight: bold; /* وزن النص */
    display: flex; /* استخدام Flexbox داخل الأزرار */
    align-items: center; /* توسيط العناصر عمودياً داخل الأزرار */
    gap: 4px; /* المسافة بين الأيقونة والنص داخل الأزرار */
    border-radius: 2.5px; /* زوايا مستديرة للأزرار */
    transition: background-color 0.3s ease; /* تأثير الانتقال للتغييرات */
    border: 1px solid #fafafa; /* إضافة حد */

}

.view-toggle button:hover {
    background-color: #0056b3; /* تغيير لون الخلفية عند التحويم */
    border: 2.5px solid #212121; /* إضافة حد */
}

.view-toggle button i {
    font-size: 18px; /* حجم الأيقونة داخل الأزرار */
}
      
      
/* أنماط علامة الصح */
.view-toggle button .checkmark {
    display: none; /* إخفاء العلامة بشكل افتراضي */
    color: #fafafa; /* لون العلامة */
    font-size: 18px; /* حجم العلامة */
    margin-left: 5px; /* مسافة يسار العلامة */
}

/* إظهار العلامة عند تفعيل الزر */
.view-toggle button.active .checkmark {
    display: inline; /* عرض العلامة */
}      
      
      
      

        .icon-grid {
            display: grid; /* استخدام عرض الشبكة */
            grid-template-columns: repeat(2, 1fr); /* تكرار عمودين */
            grid-gap: 10px; /* المسافة بين العناصر */
            padding: 25px; /* الحشو الداخلي */
            max-width: 500px; /* الحد الأقصى لعرض الشبكة */
            margin: 130px auto 10px; /* توسيط الشبكة وتقليل المسافة العلوية */
            margin-bottom: 50px; /* مسافة سفلية */        
        }

        .icon-item {
            position: relative; /* تحديد الموضع النسبي */
            margin-top: 0px; /* إزالة المسافة العلوية */
            background: linear-gradient(to right, #eaecee, #e1f5fe);/* خلفية متدرجة */      
            border-radius: 10px; /* زوايا مستديرة */
            padding: 10px; /* حشو داخلي */
            text-align: center; /* محاذاة النص إلى الوسط */
            font-size: 16px; /* حجم النص */
            font-weight: bold; /* وزن النص */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* ظل خفيف */
            text-decoration: none; /* إزالة التسطير */
            color: #e1f5fe; /* لون النص */
            transition: transform 0.2s, box-shadow 0.2s; /* تأثيرات الانتقال */
            border: 2.5px solid #1a237e; /* حدود */
            border-bottom: 3px solid red; /* حدود */
        }

        .icon-item:hover {
            transform: translateY(-5px); /* رفع العنصر عند التحويم */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* زيادة الظل عند التحويم */
        }

        .icon-item img {
            width: 80px; /* عرض الصورة */
            height: 80px; /* ارتفاع الصورة */
            margin-bottom: 10px; /* مسافة سفلية للصورة */
        }

        .icon-item p {
            margin-top: 5px; /* مسافة علوية للنص */
            font-size: 16px; /* حجم النص */
            color: #02076e; /* لون النص */
            font-weight: bold; /* وزن النص */          
        }
      
         .icon-item.active p {
            color: #FFFF00; /* لون النص */
            font-weight: bold; /* وزن النص */
            font-size: 16px; /* حجم النص */           
        }      

        /* تنسيق الأيقونة النشطة */
        .icon-item.active {
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            color: white; /* لون النص للعنصر النشط */
        }

        .icon-item.active img {
            filter: none; /* إزالة أي فلاتر مضافة للصورة */
        }
      
.ramadan-competition-icon .icon-item {
    display: inline-block; /* جعل العنصر inline-block */
    text-decoration: none; /* إزالة الخط التحتي */
    color: #000; /* لون النص */
    position: relative; /* لجعل التاج يظهر بشكل صحيح */
}

.ramadan-competition-icon img {
    width: 50px; /* تغيير حجم الأيقونة */
    height: 50px;
}

.ramadan-competition-icon p {
    margin-top: 5px; /* إضافة مسافة بين الأيقونة والنص */
    font-size: 20px; /* حجم النص */
    font-weight: bold; /* وزن النص */
}

/* تنسيق التاج */
.crown {
    position: absolute; /* وضع التاج فوق الأيقونة */
    top: 35px; /* تحريك التاج لأعلى */
    right: 2.5px; /* تحريك التاج لليمين */
    background-color: red; /* لون خلفية التاج */
    color: white; /* لون النص */
    font-size: 12px; /* حجم النص */
    font-weight: bold; /* وزن النص */
    padding: 5px 10px; /* إضافة حشو */
    border-radius: 25%; /* جعل التاج دائريًا */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); /* إضافة ظل */
    transform: rotate(0deg); /* تدوير التاج قليلاً */
    border: 1.75px solid #1a237e; /* إضافة حد */
} 

/* تنسيق التاج */
.crown0 {
    position: absolute; /* وضع التاج فوق الأيقونة */
    top: 2.5px; /* تحريك التاج لأعلى */
    right: 2.5px; /* تحريك التاج لليمين */
    background-color: red; /* لون خلفية التاج */
    color: white; /* لون النص */
    font-size: 12px; /* حجم النص */
    font-weight: bold; /* وزن النص */
    padding: 5px 10px; /* إضافة حشو */
    border-radius: 25%; /* جعل التاج دائريًا */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); /* إضافة ظل */
    transform: rotate(0deg); /* تدوير التاج قليلاً */
    border: 1.75px solid #1a237e; /* إضافة حد */
}   

/* إخفاء الأيقونات */      
.icon-item:has(button[style*="display: none"]) .crown {
    margin-top: -1.98rem; /* تعديل المسافة العلوية */
}
      
        /* أنماط القائمة السفلية */
        .navbar {
            position: fixed;
            bottom: 3px;
            left: 50%; /* توسيط العنصر أفقيًا */
            transform: translateX(-50%); /* توسيط العنصر بدقة */
            width: 92.5%; /* عرض العنصر */
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            display: flex;
            justify-content: space-around; /* توزيع العناصر */
            padding: 5px 15px; /* حشو داخلي */
            box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1); /* ظل خفيف */
            border-radius: 22.5px; /* زوايا مستديرة */
            border-bottom: 3px solid white; /* حدود */
        }

        .navbar .nav-item {
            flex: 1;
            text-align: center;
            color: white; /* لون النص */
            font-size: 14px; /* حجم النص */
            cursor: pointer; /* تغيير شكل المؤشر */
            padding: 5px 0; /* حشو داخلي */
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease; /* تأثيرات الانتقال */
            border-width: 1px; /* حدود */
            border-style: solid;
            border-color: transparent;
        }

        .icon {
            margin-bottom: 2px; /* مسافة سفلية للأيقونة */
            font-size: 20px; /* حجم الأيقونة */
        }

        .nav-item span {
            display: block;
            font-size: 15px; /* حجم النص */
            font-weight: bold; /* وزن النص */
            text-decoration: none; /* إزالة التسطير */
        }

        .nav-item span:active {
            font-size: 20px; /* حجم النص */
            font-weight: bold; /* وزن النص */ 
        }

        .nav-item:active .icon {
          font-size: 22px; /* حجم الأيقونة */
        }  
     
        /* أنماط شعار الإشعارات */
        .notification-badge {
            position: absolute;
            top: -5px; /* المسافة من الأعلى */
            right: 87.5px; /* المسافة من اليمين */
            background-color: red; /* لون الخلفية */
            color: white; /* لون النص */
            font-size: 15px; /* حجم النص */
            padding: 2.5px 5px; /* حشو داخلي */
            border-radius: 50%; /* زوايا مستديرة */
            display: flex;
            align-items: center;
            justify-content: center;
        }   
      
        /* أنماط الوضع الليلي للقائمة */
        body.dark-mode .navbar {
            background: #121212; /* لون خلفية القائمة في الوضع الليلي */
            border-top: 2px solid #fafafa; /* حدود علوية */
        }

        body.dark-mode .navbar .nav-item {
            color: #ddd; /* لون النص في الوضع الليلي */
            border-color: transparent; /* حدود شفافة */
        }

        body.dark-mode .navbar .nav-item.home {
            border-color: #ddd; /* حدود العنصر الرئيسي */
            border: none; /* إزالة الحدود */  
        }
      
        body.dark-mode .icon {
            color: #ddd; /* لون الأيقونات في الوضع الليلي */
        }

        /* إزالة الخط تحت أسماء القوائم */
        .navbar-nav .nav-link {
            text-decoration: none;
        }
        .navbar a {
            text-decoration: none;
        }

        /* أنماط الوضع الليلي */
        body.dark-mode {
            background-color: #121212; /* لون خلفية الصفحة في الوضع الليلي */
            color: #fafafa; /* لون النص في الوضع الليلي */
        }

        body.dark-mode .marquee {
            background: #121212; /* لون خلفية العنصر في الوضع الليلي */
            color: #fafafa; /* لون النص في الوضع الليلي */
        }
      
        .dark-mode .icon-item p {
        color: #fafafa; /* لون النص في الوضع الليلي */
        }    

        body.dark-mode .icon-item {
            background: #212121; /* لون خلفية العنصر في الوضع الليلي */
            color: #ddd; /* لون النص في الوضع الليلي */
            border-color: #ddd; /* لون الحد في الوضع الليلي */
            border: 2.5px solid #fafafa; /* إضافة حد */          
        }
          

        body.dark-mode .icon-item.active p {
            color: #fafafa; /* لون النص */
        }
      
        body.dark-mode .icon-item.active {
            background: #0277bd; /* لون خلفية العنصر النشط في الوضع الليلي */
            color: white; /* لون النص للعنصر النشط في الوضع الليلي */
        }      

        body.dark-mode .icon-item.active img {
            filter: none; /* إزالة أي فلاتر مضافة للصورة في الوضع الليلي */
        }
      
body.dark-mode .view-toggle {
    background: #121212; /* لون خلفية العنصر في الوضع الليلي */
    color: #fafafa; /* لون النص في الوضع الليلي */
}

body.dark-mode .view-toggle button {
    background-color: #212121; /* لون خلفية الأزرار في الوضع الليلي */
    color: #fafafa; /* لون النص في الأزرار في الوضع الليلي */
    border: 1px solid #fafafa; /* لون الحد في الوضع الليلي */
}  


/* إظهار العلامة عند تفعيل الزر في وضع الدرك */
.dark-mode .view-toggle button.active .checkmark {
    color: #fafafa; /* لون العلامة في وضع الدرك */
}
      
        
      
        /* زر تبديل الوضع الليلي */
        .night-mode-toggle {
            position: fixed; /* تثبيت الزر في مكان محدد */
            bottom: 23px; /* المسافة من الأسفل */
            right: 7.5px; /* المسافة من اليمين */
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            color: white; /* لون النص في الزر */
            border: none; /* إزالة الحدود */
            border-radius: 50%; /* جعل الزر دائري */
            width: 50px; /* عرض الزر */
            height: 50px; /* ارتفاع الزر */
            font-size: 24px; /* حجم النص في الزر */
            cursor: pointer; /* تغيير شكل المؤشر عند التحويم */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* إضافة ظل خفيف */
            transition: background 0.3s; /* تأثير الانتقال للتغييرات */
            margin-bottom: 45px; /* مسافة سفلية */

        }

        .night-mode-toggle:hover {
            background: #0056b3; /* تغيير لون الخلفية عند التحويم */
        }

        .list-view {
            grid-template-columns: 1fr; /* جعل العرض عمود واحد عند التحويل إلى عرض القائمة */

        }

#usernameDisplay {
    color: #1a237e; /* لون النص */
    font-weight: bold; /* وزن الخط */  
    background-color: ; /* خلفية النص */
    border: 0px solid #ebccd1; /* حدود النص */
    padding: 10px;
    border-radius: 5px;
    font-size: 16px;
    display: flex;
    align-items: center;
    border: 2.5px solid #1a237e; /* إضافة حد */
  
      } 
      
        .icon-item .crown-icon {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 30px;
            color: gold; /* لون التاج */
        } 
      
        .hidden {
        display: none;
      } 
      
.button {
    font-size: 15px; /* حجم الخط */
    font-weight: bold; /* وزن الخط */
    padding: 5px 20px; /* حجم الحشو */
    margin: 5px auto; /* تقليل هامش الزر */
    border: none; /* حذف الحدود */
    border-radius: 5px; /* تقويس الزوايا */
    background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
    color: white; /* لون النص */
    cursor: pointer; /* تحويل المؤشر إلى يد عند التحويم */
    transition: background-color 0.3s, transform 0.3s; /* تأثير الانتقال */
    text-decoration: none; /* إزالة الخط تحت النص داخل الزر */
    display: block; /* عرض الزر ككتلة */
    text-align: center; /* توسيط النص داخل الزر */
}

.button:hover {
    background-color: #1a237e; /* لون خلفية الزر عند التحويم */
    color: #FFFF00; /* لون النص */  
    transform: scale(1.05); /* تحجيم الزر عند التحويم */
    border: 2px solid white; /* إضافة حد عند التحويم */
  
}

.button:active {
    transform: scale(0.95); /* تحجيم الزر عند الضغط */
}

.button a {
    text-decoration: none; /* إزالة الخط تحت النص داخل الرابط */
    color: inherit; /* الاحتفاظ بلون النص داخل الرابط */
}  

      
.modal {
    position: fixed;
    z-index: 1001; /* تأكد من أن القيمة أعلى من أي عناصر أخرى في الصفحة */
    left: 50%; /* بدء التوسيع من منتصف الصفحة */
    top: 50%; /* بدء التوسيع من منتصف الصفحة */
    transform: translate(-50%, -50%); /* نقل النافذة للوسط */
    width: 85%; /* تقليل عرض النافذة إلى 60% */
    max-width: 450px; /* إضافة حد أقصى لعرض النافذة */
    height: auto; /* السماح للطول بالتحكم بشكل تلقائي */
    overflow: auto; /* إضافة تمرير إذا كانت المحتويات أكبر من النافذة */
    background: linear-gradient(to right, white, #e1f5fe);
    border-radius: 15px; /* إضافة زوايا دائرية للنافذة */

}

.modal-content {
    background: linear-gradient(to right, white, #e1f5fe);      
    padding: 20px;
    border: 2.5px solid #000000;
    border-radius: 15px; /* إضافة زوايا دائرية للنافذة */
}

.close {
    float: left;
    font-size: 26px;
    font-weight: bold;  
    position: absolute;
    top: 10px;
    left: 10px;
    background: none;
    border: none;
    cursor: pointer;
    color: #d9534f;  
  
}
      
/* التأثير عند تنشيط عنصر معين */
.icon-item.active .modal {
    background: #0277bd !important; /* إجبار تغيير لون الخلفية */
    color: white !important;
}     

/* نمط overlay */
#overlay {
    display: none; /* إخفاء الـ overlay بشكل افتراضي */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5); /* خلفية شبه شفافة */
    z-index: 1001; /* يجب أن تكون تحت الـ modal لكن فوق المحتويات الأخرى */
}
      
hr {
    border: none; /* إزالة الحدود الافتراضية */
    border-top: 2.5px solid #1a237e; /* تغيير سمك ولون الخط العلوي */
    margin: 10px 0; /* إضافة هوامش فوق وتحت */
    margin-bottom: 10px;  
}      

      
        /* أنماط الشريط العلوي */
        .top-bar {
            position: fixed;
            top: 0px; /* المسافة من الأعلى */
            left: 50%; /* توسيط العنصر أفقيًا */
            transform: translateX(-50%); /* توسيط العنصر بدقة */
            width: 97.5%; /* عرض العنصر */
            height: 35px; /* ارتفاع العنصر */
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            display: flex;
            justify-content: space-between; /* توزيع العناصر */
            padding: 10px 15px; /* حشو داخلي */
            box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1); /* ظل خفيف */
            border-radius: 0px 0px 22.5px 22.5px; /* زوايا مستديرة */
            border-bottom: 3px solid white; /* حدود */
            align-items: center; /* توسيط العناصر عموديًا */
            z-index: 1001; /* ترتيب العنصر */
            color: white; /* لون النص */
        }


        .top-bar .menu-icon {
            font-size: 27.5px; /* حجم الأيقونة */
            cursor: pointer; /* تغيير شكل المؤشر */
        }

        .top-bar .title {
            font-size: 20px; /* حجم النص */
            margin-left: 20px; /* مسافة بين السهم والعنوان */
            flex-grow: 1; /* توسيط العنوان */
            text-align: center; /* توسيط النص */
            font-weight: bold;  
        }

.top-bar .icon {
    display: none; /* إخفاء الأيقونات بعد التعديل */
    margin-left: auto; /* يجعل الأيقونة تتحرك إلى أقصى اليمين */
} 
    </style>
    </head>
    <body>
      

<div class="top-bar">
    <div class="menu-icon" id="menuIcon" onclick="toggleSidebar()">
        <i class="fas fa-arrow-right" onclick="window.location.href='https://taxlawapp.github.io/home/home.html'"></i> <!-- سهم العودة -->
    </div>
    <div class="title">
       إحتساب الضريبة | 🇪🇬 🇵🇸 Tax Law App
    </div>
</div>
      
    <div class="marquee">
        <span style="white-space: nowrap;">
            <img src="https://www3.0zz0.com/2024/05/30/07/482205963.png" alt="Icon" style="vertical-align: middle; width: 38px; height: 38px; margin-right: 10px;">
            Tax Law App | شاشات إحتساب الضريبة | التطبيق رقم ( 1 ) لإحتساب الضريبة فـ مصر 
        </span>
    </div> 

   <span style="display:none;" id="usernameDisplay"></span> <!-- عرض اسم المستخدم هنا -->      

<div class="view-toggle">
    <button onclick="toggleGridView()" id="grid-view-btn">
        <i class="fas fa-th"></i><span class="checkmark">✔</span>
    </button>
    <button onclick="toggleListView()" id="list-view-btn">
        <i class="fas fa-list"></i><span class="checkmark">✔</span>
    </button>
    <!-- زر التكبير -->
    <button onclick="increaseFontSize()" id="increase-font-btn">
        <i class="fas fa-search-plus"></i>A+
    </button>
    <!-- زر التصغير -->
    <button onclick="decreaseFontSize()" id="decrease-font-btn">
        <i class="fas fa-search-minus"></i>A-
    </button>
</div>
   
    <div class="icon-grid">           
        <a href="https://taxlawapp.github.io/Tax-calculation/law187.html" class="icon-item" onclick="setActive(this)">
            <img src="https://www2.0zz0.com/2025/03/09/14/689618430.png" alt="Icon 1">
            <p>ضريبة الدخل | ق 187</p>
            <button id="visitButton8" href="go:tax-187" class="button"><i class="fas fa-check-circle"></i> مجاناً</button>    
        </a>
      
        <a href="https://taxlawapp.github.io/Tax-calculation/law91.html" class="icon-item" onclick="setActive(this)">
            <img src="https://www2.0zz0.com/2025/03/08/22/333873758.png" alt="Icon 2">
            <p>ضريبة الدخل | ق 91</p>
            <button id="visitButton9" href="go:tax-91" class="button"><i class="fas fa-check-circle"></i> مجاناً</button>         
            </a>
      
            <a href="#" id="actionButton6" class="icon-item" onclick="setActive(this)">
            <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->
            <img src="https://www2.0zz0.com/2025/03/08/22/504113516.png" alt="Icon 3">
            <p>ضريبة الدخل | ق 30</p>
            <button id="visitButton1" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/law30.html', 'ضريبة الدخل | ق 30')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
        </a>

        <a href="https://taxlawapp.github.io/Tax-calculation/law5.html" class="icon-item" onclick="setActive(this)">
            <img src="https://www2.0zz0.com/2025/05/21/11/281024055.png" alt="Icon 4">
            <p>تسوية النزاع | ق5</p>
            <button id="visitButton13" href="https://taxlawapp.github.io/Tax-calculation/law5.html" class="button"><i class="fas fa-check-circle"></i> مجاناً</button>
          <!-- التاج مع كلمة "جديد" -->
          <div class="crown0">جديد</div>           
           </a>
      
            <a href="#" id="actionButton8" class="icon-item" onclick="setActive(this)">
            <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->
            <img src="https://www2.0zz0.com/2025/03/08/22/504113516.png" alt="Icon 5">
            <p>ضريبة الدخل | ق 6</p>
            <button id="visitButton12" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/law6.html', 'ضريبة الدخل | ق 6')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
        <!-- التاج مع كلمة "جديد" -->
        <div class="crown">جديد</div>              
        </a>      
   
        <a href="https://taxlawapp.github.io/Tax-calculation/salary91.html" class="icon-item" onclick="setActive(this)">
            <img src="https://www2.0zz0.com/2025/03/09/14/154248820.png" alt="Icon 6">
            <p>ضريبة المرتبات | ق 91</p>
            <button id="visitButton10" href="https://taxlawapp.github.io/Tax-calculation/salary91.html" class="button"><i class="fas fa-check-circle"></i> مجاناً</button>             
        </a>
      
        <a href="https://taxlawapp.github.io/Tax-calculation/cars91.html" class="icon-item" onclick="setActive(this)">
            <img src="https://www2.0zz0.com/2025/03/08/22/556277151.png" alt="Icon 7">
            <p>ضريبة السيارات | ق 91</p>
            <button id="visitButton11" href="https://taxlawapp.github.io/Tax-calculation/cars91.html" class="button"><i class="fas fa-check-circle"></i> مجاناً</button>             
        </a>
      
        <a href="#" id="actionButton7" class="icon-item" onclick="setActive(this)">
           <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->          
           <img src="https://www2.0zz0.com/2025/03/08/22/127214931.png" alt="Icon 8">
           <p>ضريبة ق المضافة | ق 67</p>
           <button id="visitButton2" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/vat67.html', 'ضريبة ق المضافة | ق 67')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
        </a>
      
           <a href="#" id="actionButton1" class="icon-item" onclick="setActive(this)">
           <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->          
           <img src="https://www2.0zz0.com/2025/03/08/22/361893013.png" alt="Icon 9">
           <p>توزيعات الأرباح | ق 91</p>
           <button id="visitButton3" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/Profit91.html', 'توزيعات الأرباح | ق 91')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
       </a>
      
       <a href="#" id="actionButton2" class="icon-item" onclick="setActive(this)">
          <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->          
          <img src="https://www2.0zz0.com/2025/03/09/14/491901426.png" alt="Icon 10">
          <p>الضريبة الإضافية | ق 67</p>
          <button id="visitButton4" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/vat67+.html', 'الضريبة الإضافية | ق 67')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
       </a>
      
       <a href="#" id="actionButton3" class="icon-item" onclick="setActive(this)">
         <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->         
         <img src="https://www2.0zz0.com/2025/03/09/14/912021098.png" alt="Icon 11">
         <p>مقابل التأخير | تجاري</p>
         <button id="visitButton5" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/Amount91+.html', 'مقابل التأخير | تجاري')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
      </a>

            <a href="#" id="actionButton9" class="icon-item" onclick="setActive(this)">
            <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->
            <img src="https://www2.0zz0.com/2025/06/21/12/714360355.png" alt="Icon 12">
            <p>مقابل التأخير | مرتبات</p>
            <button id="visitButton14" class="button" onclick="showPopup('https://taxlawapp.github.io/Tax-calculation/salary91+.html', 'مقابل التأخير | مرتبات')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
        <!-- التاج مع كلمة "جديد" -->
        <div class="crown">جديد</div>              
        </a>
      
      <a href="#" id="actionButton4" class="icon-item" onclick="setActive(this)">
         <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->       
         <img src="https://www2.0zz0.com/2025/03/09/14/692930209.png" alt="Icon 13">
         <p>ضريبة التصرفات | ق ٩١</p>
        <button id="visitButton6" class="button" onclick="showPopup('go:2.5%', 'ضريبة التصرفات | ق ٩١')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
     </a>
      
     <a href="#" id="actionButton5" class="icon-item" onclick="setActive(this)">
        <i class="fas fa-crown crown-icon"></i> <!-- أيقونة التاج -->
        <img src="https://www2.0zz0.com/2025/03/09/14/807021552.png" alt="Icon 14">
        <p>مقابل التأخير | تصرفات</p>
        <button id="visitButton7" class="button" onclick="showPopup('go:dispos', 'مقابل التأخير | تصرفات')"><i class="fas fa-check-circle"></i> أدخل المعرف</button>
     </a>
  </div>
 
<!-- إضافة عنصر overlay -->
<div id="overlay"></div>   
<!-- Popup Modal -->
<div id="popupModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closePopup()">❌</span>
        <h2 id="popupTitle"></h2> <!-- عنصر لعرض اسم الشاشة -->
        <hr>
        <button id="confirmVisitButton" class="button" onclick="confirmVisit()"><i class="fas fa-check-circle"></i> أدخل معرف الزيارة الخاص بك</button>
    </div>
</div> 

      
  
<!-- القائمة السفلية -->
<div class="navbar">
    <a href="https://taxlawapp.github.io/home/Login.html" class="nav-item">
        <i class="fas fa-user icon"></i>
        <span>حسابي</span>
    </a>
    <a href="https://taxlawapp.github.io/home/pro.html" class="nav-item">
        <i class="fas fa-crown icon" style="color: gold;"></i>
        <span>برو</span>
    </a>     
    <a href="https://taxlawapp.github.io/home/home.html" class="nav-item home">
        <i class="fas fa-home icon"></i>
        <span>الرئيسية</span>
    </a>
    <a href="https://youtube.com/@taxlawapp" class="nav-item">
        <i class="fab fa-youtube icon"></i>
        <span>قناتي</span>
    </a>
    <a href="https://taxlawapp.github.io/home/Settings.html" class="nav-item">
        <i class="fas fa-ellipsis-h icon"></i>
        <span>المزيد</span>
    </a>      
</div>  
  
    <script>
// تعيين العنصر النشط
function setActive(element) {
    const items = document.querySelectorAll('.icon-item');
    items.forEach(item => item.classList.remove('active'));
    element.classList.add('active');
}

      
// قراءة بيانات المستخدم من localStorage
const user = JSON.parse(localStorage.getItem('loggedInUser'));

// متغير لتحديد حالة النافذة المنبثقة
let isPopupOpen = false; // افتراضياً، النافذة المنبثقة مغلقة
let currentHref = ''; // متغير لتخزين الرابط الحالي
let currentTitle = ''; // متغير لتخزين اسم الشاشة الحالي

// كود لفتح النافذة المنبثقة
function showPopup(href, title) {
    currentHref = href; // حفظ الرابط الحالي
    currentTitle = "شاشة" + " ( " + " " + title + " ) "; // حفظ اسم الشاشة الحالي
    document.getElementById('popupTitle').innerText = currentTitle; // تعيين اسم الشاشة في النافذة المنبثقة
    document.getElementById('overlay').style.display = 'block'; // إظهار overlay
    document.getElementById('popupModal').style.display = 'block'; // إظهار النافذة المنبثقة
    isPopupOpen = true; // تعيين الحالة إلى مفتوحة
}

// كود لإغلاق النافذة المنبثقة
function closePopup() {
    isPopupOpen = false; // تعيين الحالة إلى مغلقة
    document.getElementById('overlay').style.display = 'none'; // إخفاء overlay
    document.getElementById('popupModal').style.display = 'none'; // إخفاء النافذة المنبثقة
}

// إغلاق النافذة المنبثقة عند النقر في أي مكان خارجها
window.onclick = function(event) {
    const modal = document.getElementById('popupModal');
    const overlay = document.getElementById('overlay');

    // تحقق مما إذا كان النقر حدث خارج النافذة المنبثقة
    if (event.target === overlay) {
        closePopup();
    }
};

function confirmVisit() {
    window.location.href = currentHref; // الانتقال إلى الرابط الحالي
    closePopup(); // إغلاق النافذة المنبثقة
}

if (user) {
    // الحصول على التاريخ والوقت الحاليين
    const now = new Date();
    const dateString = now.toLocaleDateString(); // يمكنك تغيير التنسيق حسب الحاجة
    const timeString = now.toLocaleTimeString(); // يمكنك تغيير التنسيق حسب الحاجة
    const currentDate = new Date();
    const expiryDateParts = user.expiryDate.split('/');
    const expiryDate = new Date(expiryDateParts[2], expiryDateParts[1] - 1, expiryDateParts[0]);
    const timeDiff = expiryDate - currentDate;
    let daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));

    // إذا كانت الفترة المتبقية فارغة أو أقل من أو تساوي صفر، تعيينها إلى صفر
    if (isNaN(daysDiff) || daysDiff <= 0) {
        daysDiff = 0;
    }

    document.getElementById('usernameDisplay').innerHTML = `
        <p><i class="fas fa-user"></i> المستخدم الحالي : ${user.fullName}</p>
        <p><i class="fas fa-hourglass-half"></i> الفترة المتبقية : ${daysDiff} يوم</p>
        <p><i class="fas fa-calendar-day"></i> تاريخ الدخول : ${dateString}</p>
        <p><i class="fas fa-clock"></i> الوقت : ${timeString}</p>
    `;

    // تحديث الروابط بناءً على حالة تسجيل الدخول
    const userLoggedIn = daysDiff > 0;

    document.getElementById('actionButton1').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/Profit91.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton2').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/vat67+.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton3').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/Amount91+.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton4').onclick = () => userLoggedIn ? window.location.href = 'go:2.5%' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton5').onclick = () => userLoggedIn ? window.location.href = 'go:dispos' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton6').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/law30.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton7').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/vat67+.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton8').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/law6.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');
    document.getElementById('actionButton9').onclick = () => userLoggedIn ? window.location.href = 'https://taxlawapp.github.io/Tax-calculation/salary91+.html' : (isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html');

    // إخفاء أو إظهار الأيقونات والعناصر المحتوية على "PRO"
    const icons = document.querySelectorAll('.fa-crown');
    const proElements = document.querySelectorAll('.tag[data-tag="PRO"], span');
    
    if (userLoggedIn) {
        icons.forEach(icon => icon.classList.add('hidden'));
        proElements.forEach(element => {
            if (element.innerText.includes('PRO')) {
                element.classList.add('hidden');   
            }
        });
    } else {
        icons.forEach(icon => icon.classList.remove('hidden'));
        proElements.forEach(element => {
            if (element.innerText.includes('PRO')) {
                element.classList.remove('hidden');
            }
        });
    }
} else {
    // إظهار الأيقونات المخفية والعناصر المحتوية على "PRO" إذا لم تكن بيانات المستخدم موجودة
    const icons = document.querySelectorAll('.fa-crown');
    const proElements = document.querySelectorAll('.tag[data-tag="PRO"], span');
    
    icons.forEach(icon => icon.classList.remove('hidden'));
    proElements.forEach(element => {
        if (element.innerText.includes('PRO')) {
            element.classList.remove('hidden');
        }
    });

    // تحديث الروابط لتوجيه إلى صفحة PRO
    document.getElementById('actionButton1').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton2').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton3').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton4').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton5').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton6').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton7').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton8').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
    document.getElementById('actionButton9').onclick = () => isPopupOpen ? null : window.location.href = 'https://taxlawapp.github.io/home/pro.html';
}






window.addEventListener('DOMContentLoaded', () => {
    const icons = document.querySelectorAll('.fa-crown');

    // حلقة لإظهار الأزرار وتعيين الروابط
    for (let i = 1; i <= 20; i++) {
        const visitButton = document.getElementById(`visitButton${i}`);

        // تحقق مما إذا كانت الأيقونات مرئية
        if (icons.length > 0 && icons[0].offsetParent !== null) {
            // إذا كانت الأيقونة مرئية، إظهار الزر
            visitButton.style.display = 'block';

            // تعيين href إلى الرابط الآخر
            switch (i) {
                case 1:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/law30.html');
                    break;
                case 2:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/vat67.html');
                    break;
                case 3:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/Profit91.html');
                    break;
                case 4:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/vat67+.html');
                    break;
                case 5:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/Amount91+.html');
                    break;
                case 6:
                    visitButton.setAttribute('href', 'go:2.5%');
                    break;
                case 7:
                    visitButton.setAttribute('href', 'go:dispos');
                    break;
                case 8:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/law6.html');
                    break;
                case 9:
                    visitButton.setAttribute('href', 'https://taxlawapp.github.io/Tax-calculation/salary91+.html');
                    break;                
            }
        } else {
            // إذا كانت الأيقونة مخفية، إخفاء الزر
            visitButton.style.display = 'none';
        }
    }
});


// تبديل الوضع الليلي
function toggleNightMode() {
    const body = document.body;
    body.classList.toggle('dark-mode');
    const nightModeToggle = document.querySelector('.night-mode-toggle');
    const isNightMode = body.classList.contains('dark-mode');
    nightModeToggle.innerHTML = isNightMode ? '☀' : '🌙';
}

// تحويل العرض إلى الشبكة
function toggleGridView() {
    const iconGrid = document.querySelector('.icon-grid');
    iconGrid.classList.remove('list-view');
    const items = iconGrid.querySelectorAll('.icon-item');
    items.forEach(item => {
        item.style.display = 'flex';
        item.style.flexDirection = 'column';
        item.style.alignItems = 'center';
    });
    const images = iconGrid.querySelectorAll('img');
    images.forEach(img => {
        img.style.marginBottom = '10px';
    });
    localStorage.setItem('viewPreference', 'grid');

    // تحديث حالة الأزرار
    document.getElementById('grid-view-btn').classList.add('active');
    document.getElementById('list-view-btn').classList.remove('active');
}

// تحويل العرض إلى القائمة
function toggleListView() {
    const iconGrid = document.querySelector('.icon-grid');
    iconGrid.classList.add('list-view');
    const items = iconGrid.querySelectorAll('.icon-item');
    items.forEach(item => {
        item.style.display = 'flex';
        item.style.alignItems = 'center';
    });
    const images = iconGrid.querySelectorAll('img');
    images.forEach(img => {
        img.style.marginRight = '10px';
    });
    localStorage.setItem('viewPreference', 'list');

    // تحديث حالة الأزرار
    document.getElementById('grid-view-btn').classList.remove('active');
    document.getElementById('list-view-btn').classList.add('active');
}

function showPopupMessage(message) {
    // إنشاء العنصر الخاص بالنافذة المنبثقة
    const popup = document.createElement('div');
    popup.textContent = message;
    popup.style.position = 'fixed';
    popup.style.top = '50%'; // يتم التمركز عموديًا
    popup.style.left = '50%'; // يتم التمركز أفقيًا
    popup.style.transform = 'translate(-50%, -50%)'; // لضبط المركز بدقة
    popup.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
    popup.style.color = '#fff';
    popup.style.padding = '5px 10px';
    popup.style.borderRadius = '8px';
    popup.style.border = '3px solid #DDD'; // إضافة الحد
    popup.style.boxShadow = '0px 4px 6px rgba(0, 0, 0, 0.2)';
    popup.style.fontSize = '20px';
    popup.style.zIndex = '9999';
    popup.style.opacity = '1';
    popup.style.transition = 'opacity 0.5s ease';

    // إضافة النافذة إلى الصفحة
    document.body.appendChild(popup);

    // إزالة النافذة بعد 2 ثانية
    setTimeout(() => {
        popup.style.opacity = '0'; // إخفاء تدريجي
        setTimeout(() => popup.remove(), 500); // إزالة العنصر نهائيًا بعد انتهاء الإخفاء
    }, 2000);
}
      
// دالة لتكبير حجم الخط
function increaseFontSize() {
    const elements = document.querySelectorAll('.icon-item p');
    let reachedMax = false;

    elements.forEach(element => {
        const currentFontSize = parseFloat(window.getComputedStyle(element).fontSize);
        // تحقق إذا كان حجم الخط 20
        if (currentFontSize >= 20) {
            reachedMax = true;
        } else {
            const newFontSize = currentFontSize + 2; // التكبير بمقدار 2
            element.style.fontSize = Math.min(newFontSize, 20) + 'px'; // التأكد من عدم تجاوز 20
            localStorage.setItem('fontSize', Math.min(newFontSize, 20) + 'px');
        }
    });

    // عرض الرسالة إذا وصلنا للحد الأقصى (20)
    if (reachedMax) {
        showPopupMessage("لقد وصلت إلى الحد الأقصى المسموح به للتكبير.");
    }
}

// دالة لتصغير حجم الخط
function decreaseFontSize() {
    const elements = document.querySelectorAll('.icon-item p');
    let reachedMin = false;

    elements.forEach(element => {
        const currentFontSize = parseFloat(window.getComputedStyle(element).fontSize);
        // تحقق إذا كان حجم الخط 14
        if (currentFontSize <= 14) {
            reachedMin = true;
        } else {
            const newFontSize = currentFontSize - 2; // التصغير بمقدار 2
            element.style.fontSize = Math.max(newFontSize, 14) + 'px'; // التأكد من عدم انخفاض الحجم تحت 14
            localStorage.setItem('fontSize', Math.max(newFontSize, 14) + 'px');
        }
    });

    // عرض الرسالة إذا وصلنا للحد الأدنى (14)
    if (reachedMin) {
        showPopupMessage("لقد وصلت إلى الحد الأدنى المسموح به للتصغير.");
    }
}

// تحميل تفضيل العرض المحفوظ والوضع الليلي
document.addEventListener('DOMContentLoaded', function() {
    const viewPreference = localStorage.getItem('viewPreference');
    const darkModePreference = localStorage.getItem('darkModePreference'); // إضافة تفضيل الوضع الليلي
    if (viewPreference === 'list') {
        toggleListView();
    } else {
        toggleGridView();
    }
    // تطبيق الوضع الليلي إذا كان مفعلاً
    if (darkModePreference === 'true') {
        toggleNightMode();
    }
});

// تبديل الوضع الليلي
function toggleNightMode() {
    const body = document.body;
    body.classList.toggle('dark-mode');
    const nightModeToggle = document.querySelector('.night-mode-toggle');
    const isNightMode = body.classList.contains('dark-mode');
    nightModeToggle.innerHTML = isNightMode ? '☀' : '🌙';
    // حفظ تفضيل الوضع الليلي
    localStorage.setItem('darkModePreference', isNightMode ? 'true' : 'false');
}      
    </script>
       <script>  
 // لتغيير اتجاه الصفحة من اليسار إلى اليمين  (RTL)
document.dir = 'rtl';        
       </script> 

</body>
</html>


<script>
function clickIE4() {
    if (2 == event.button) {
        return false;
    }
}

function clickNS4(e) {
    if ((document.layers || (document.getElementById && !document.all)) && (2 == e.which || 3 == e.which)) {
        return false;
    }
}

document.oncontextmenu = function () {
    return false;
};

document.onkeydown = function (e) {
    if (
        123 == e.keyCode ||
        (e.ctrlKey && 73 == e.keyCode) ||
        (e.ctrlKey && 67 == e.keyCode) ||
        (e.ctrlKey && 74 == e.keyCode) ||
        (e.ctrlKey && 80 == e.keyCode) ||
        (e.ctrlKey && 85 == e.keyCode) ||
        (e.ctrlKey && 83 == e.keyCode)
    ) {
        return false;
    }
};

</script>






