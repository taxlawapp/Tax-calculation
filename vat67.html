    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="login.css" >
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"> <!-- مكتبة الأيقونات -->
    <!-- رابط خط Cairo من Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Beiruti:wght@400;700&display=swap" rel="stylesheet">  
        <title>حساب الضريبة علي القيمة المضافة وفقاً لقانون 67 لسنة 2016 وتعديلاته</title>
          <!-- لو الأيقونة بصيغة PNG -->
    <link rel="icon" type="image/png" href="https://www3.0zz0.com/2024/05/30/07/482205963.png">
    </head>
    <style>
    *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Beiruti' , sans-serif;
    }
  
    body{
        font-family: 'Beiruti', sans-serif;            
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 5rem;
        background: linear-gradient(to right, white, #e1f5fe);      
        user-select: none;

      
    }
      
      
    .form{
    margin: 0px auto;          
    border-radius: 0px;
    position: relative;
    padding: 20px 20px 20px;
    background: linear-gradient(to right, white, #e1f5fe);      
    border-radius: 0px;
    text-align: center;
    box-shadow: 50%;
    animation: rotate 1.5s linear infinite;
    border-style: none;
    border: 0px solid #420c0c;
      
    }



    .form h2{
    background: linear-gradient(to right, #eaecee, #e1f5fe);/* خلفية متدرجة */
    color: #2b0876;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0px;
    font-size: 25px;
    border: 2px solid #420c0c;
    border-radius: 0px;    
    margin-top: 40px; /* إضافة المسافة السفلية */
      
    }
    .form .input{
        text-align: center;
        margin-top: 5px;
        font-weight: 900;

    }



    .form .input .inputbox{
        
        margin-top: 5px;
    }

    .form .input .inputbox label:not(.settings-label,.toggle-all-label){
    background: ; 
    margin-top: 0px;      
    display: block;
    color: #02076e;
    margin-bottom: 2.5px;
    font-size: 22px;
    border: 0px solid #420c0c;
    margin-top: 2px;      

    }

    .form .input .inputbox input:not(.settings-checkbox){
    text-align: center;
    font-weight: 900;
    width: 100%;
    background: #ffffff;
    outline: none;
    border-radius: 60px;
    padding: 6px 20px;
    font-size: 20px;
    color: #0e1ba0;
    height: 45px;
    border: 2px solid #420c0c;
    border-radius: 5px;            
    margin:1.5px 0; 
    margin-top: 0px;      

    }
      
.form .input .inputbox input:focus{
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
}

    .forget{
        margin-top: 5px;
        color: #555;
    }

    .forget a{
        color: #ff0047;
    }

     
      .form-control {
    width: 100%;
    height: 45px;
    border: 2px solid #420c0c; 
    border-radius: 0px;
    padding: 0 10px;
    font-size: 18px;
    font-family: 'Beiruti', sans-serif;
    color: #fff;
    text-align: center;
  
}
      
#textbox9 {
    background-color: #1565c0;
    color: #fff;
    font-weight: 900;
    
    text-align: center;
    width: 100%;
    outline: none;
    border-radius: 60px;
    padding: 6px 20px;
    font-size: 18px;
    height: 45px;
    border: 0px solid #420c0c;
    border-radius: 5px;            
    margin:1.5px 0; 
    margin-top: 0px;      
  
} 
      
  #textbox9:focus{
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
}

#textbox10 {
    background-color: #1565c0;
    color: #fff;
    font-weight: 900;
    
    text-align: center;
    width: 100%;
    outline: none;
    border-radius: 60px;
    padding: 6px 20px;
    font-size: 18px;
    height: 45px;
    border: 0px solid #420c0c;
    border-radius: 5px;            
    margin:1.5px 0; 
    margin-top: 0px;      
  
} 
      
  #textbox10:focus{
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
}      

.form-control option {
  font-size: 18px;
  font-family: sans-serif;
  color: #fff;
}

.form-control:hover {
  border: 2px solid #000;
}

  .hr{
      font-size: 20px;
      font-weight: 900;
      
    
      }

      
      input[type="date"] {
  text-align: center;
}

#textbox11 {
    background-color: #1565c0;
    color: #fff;
    font-weight: 900;
    
    text-align: center;
    width: 100%;
    outline: none;
    border-radius: 60px;
    padding: 6px 20px;
    font-size: 18px;
    height: 45px;
    border: 0px solid #420c0c;
    border-radius: 5px;            
    margin:1.5px 0;   
    margin-top: 0px;      
  
}
      
     #textbox11:focus{
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
}

#textbox13 {
    background-color: #1565c0;
    color: #fff;
    font-weight: 900;
    
    text-align: center;
    width: 100%;
    outline: none;
    border-radius: 60px;
    padding: 6px 20px;
    font-size: 18px;
    height: 45px;
    border: 0px solid #420c0c;
    border-radius: 5px;            
    margin:1.5px 0; 
    margin-top: 0px;      
  
} 
      
  #textbox13:focus{
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
}


      
#taxTable {
  background-color: #e1f5fe;
  color: #1a237e;
  font-weight: 400;
  margin-top: 5px;
  font-size: 16px;
  border: 2px solid #420c0c;
  box-shadow: inset -2px -2px 6px rgba(255,255,255,.05),
    }  
            

      
  #taxTable1 {
  background-color: #b3e5fc;
  color: #1a237e;
  font-weight: 400;  
  margin-top: 5px;
  font-size: 16px;
  border: 2px solid #420c0c;
  box-shadow: inset -2px -2px 6px rgba(255,255,255,.05),
    }
           
 #dete1 {
    margin-top: 0px;
  
}     
      
 #dete2 {
    margin-top: 0px;
  
}
#textbox31 {
    margin-top: 2.5px;
    font-size: 20px;
    font-weight: bold;  
    background-color: #1a237e;
    color: #FFFF00;
    border-radius: 0px;
    width: 100%;
    height: 30px;
  
} 
      
#hr {
    margin-top: 0px;
  
} 

.button {
    font-size: 17px; /* حجم الخط */
    font-weight: bold; /* وزن الخط */
    padding: 7.5px 75px; /* حجم الحشو */
    margin: 10px auto; /* تقليل هامش الزر */
    border: none; /* حذف الحدود */
    border-radius: 5px; /* تقويس الزوايا */
    background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
    color: white; /* لون النص */
    cursor: pointer; /* تحويل المؤشر إلى يد عند التحويم */
    transition: background-color 0.3s, transform 0.3s; /* تأثير الانتقال */
    text-decoration: none; /* إزالة الخط تحت النص داخل الزر */
    display: block; /* عرض الزر ككتلة */
    text-align: center; /* توسيط النص داخل الزر */
}

.button:hover {
    background-color: #1a237e; /* لون خلفية الزر عند التحويم */
    color: #FFFF00; /* لون النص */  
    transform: scale(1.05); /* تحجيم الزر عند التحويم */
    border: 2px solid white; /* إضافة حد عند التحويم */
  
}

.button:active {
    transform: scale(0.95); /* تحجيم الزر عند الضغط */
}

.button a {
    text-decoration: none; /* إزالة الخط تحت النص داخل الرابط */
    color: inherit; /* الاحتفاظ بلون النص داخل الرابط */
}      

      
#button5 {
    font-size: 17px; /* حجم الخط */
    font-weight: bold; /* وزن الخط */
    padding: 7.5px 75px; /* حجم الحشو */
    margin: 10px auto; /* تقليل هامش الزر */
    border: none; /* حذف الحدود */
    border-radius: 5px; /* تقويس الزوايا */
    background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
    color: white; /* لون النص */
    cursor: pointer; /* تحويل المؤشر إلى يد عند التحويم */
    transition: background-color 0.3s, transform 0.3s; /* تأثير الانتقال */
    text-decoration: none; /* إزالة الخط تحت النص داخل الزر */
    display: block; /* عرض الزر ككتلة */
    text-align: center; /* توسيط النص داخل الزر */
}
  
#button5:hover {
    background-color: #1a237e; /* لون خلفية الزر عند التحويم */
    color: #FFFF00; /* لون النص */  
    transform: scale(1.05); /* تحجيم الزر عند التحويم */
    border: 2px solid white; /* إضافة حد عند التحويم */
  
      } 
      
      
      
#button6 {
    color: white; /* لون النص */
    background: red; /* لون الخلفية */
    border: none; /* إزالة الحدود */
    border-radius: 5px; /* زوايا مستديرة */
    text-decoration: none; /* إزالة التسطير عن النص */
    display: block; /* عرض الزر ككتلة */
    font-size: 17px; /* حجم الخط */
    font-weight: bold; /* وزن الخط */
    padding: 7.5px 75px; /* حجم الحشو */
    margin: 5px auto; /* هامش الزر */
    margin-bottom: 60px;
    cursor: pointer; /* تحويل المؤشر إلى يد عند التحويم */
    transition: background-color 0.3s, transform 0.3s; /* تأثير الانتقال */
    text-align: center; /* توسيط النص داخل الزر */
    margin-bottom: 60px;  
}
  
#button6:hover {
    background-color: darkred; /* تغيير لون الخلفية عند التحويم */
    transform: scale(1.05); /* تحجيم الزر عند التحويم */
  
      }       

        /* استايل النص العائم */
        .floating-text {
            font-size: 18px;
            font-weight: bold;
            position: fixed;
            bottom: 27.5px;
            right: 60px; /* تعديل المسافة بين النص والأيقونة */
            background-color: #ffffff;
            color: red;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none; /* الإخفاء الافتراضي للنص */
            margin-bottom: 50px; /* مسافة سفلية */          
        }
      
      
        /* أنماط القائمة السفلية */
        .navbar {
            position: fixed;
            bottom: 3px;
            left: 50%; /* توسيط العنصر أفقيًا */
            transform: translateX(-50%); /* توسيط العنصر بدقة */
            width: 92.5%; /* عرض العنصر */
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            display: flex;
            justify-content: space-around; /* توزيع العناصر */
            padding: 5px 15px; /* حشو داخلي */
            box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1); /* ظل خفيف */
            border-radius: 22.5px; /* زوايا مستديرة */
            border-bottom: 3px solid white; /* حدود */
            z-Index:1;
        }

        .navbar .nav-item {
            flex: 1;
            text-align: center;
            color: white; /* لون النص */
            font-size: 14px; /* حجم النص */
            cursor: pointer; /* تغيير شكل المؤشر */
            padding: 5px 0; /* حشو داخلي */
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease; /* تأثيرات الانتقال */
            border-width: 1px; /* حدود */
            border-style: solid;
            border-color: transparent;
        }

        .icon {
            margin-bottom: 2px; /* مسافة سفلية للأيقونة */
            font-size: 20px; /* حجم الأيقونة */
        }

        .nav-item span {
            display: block;
            font-size: 15px; /* حجم النص */
            font-weight: bold; /* وزن النص */
            text-decoration: none; /* إزالة التسطير */
        }

        .nav-item span:active {
            font-size: 20px; /* حجم النص */
            font-weight: bold; /* وزن النص */ 
        }

        .nav-item:active .icon {
          font-size: 22px; /* حجم الأيقونة */
        }  
     
        /* أنماط شعار الإشعارات */
        .notification-badge {
            position: absolute;
            top: -5px; /* المسافة من الأعلى */
            right: 87.5px; /* المسافة من اليمين */
            background-color: red; /* لون الخلفية */
            color: white; /* لون النص */
            font-size: 15px; /* حجم النص */
            padding: 2.5px 5px; /* حشو داخلي */
            border-radius: 50%; /* زوايا مستديرة */
            display: flex;
            align-items: center;
            justify-content: center;
        }   
      
        /* أنماط الوضع الليلي للقائمة */
        body.dark-mode .navbar {
            background: #121212; /* لون خلفية القائمة في الوضع الليلي */
            border-top: 2px solid #fafafa; /* حدود علوية */
        }

        body.dark-mode .navbar .nav-item {
            color: #ddd; /* لون النص في الوضع الليلي */
            border-color: transparent; /* حدود شفافة */
        }

        body.dark-mode .navbar .nav-item.home {
            border-color: #ddd; /* حدود العنصر الرئيسي */
            border: none; /* إزالة الحدود */  
        }
      
        body.dark-mode .icon {
            color: #ddd; /* لون الأيقونات في الوضع الليلي */
        }

        /* إزالة الخط تحت أسماء القوائم */
        .navbar-nav .nav-link {
            text-decoration: none;
        }
        .navbar a {
            text-decoration: none;
        }

        /* الخلفية الشفافة */
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1; 
            display: none; 
        }
        /* نافذة الإدخال */
        #visitPrompt {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(to right, white, #e1f5fe);      
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 2; 
            width: 300px;
            border: 3px solid #1a237e;
        }
        h2 {
            color: #1a237e;
            font-size: 18px;
            text-align: center;
            margin-bottom: 8px; 
            font-weight: bold;
            border-bottom: 3px solid red;
        }
        p {
            color: #333;
            font-size: 18px;
            text-align: center;
            margin-bottom: 5px; 
            font-weight: bold;
        }      
        input[type="text"] {
            padding: 10px;
            width: 100%; 
            font-size: 20px;
            margin-bottom: 7.5px; 
            text-align: center;
            color: #2b0876;
            font-weight: bold;
            margin-top: 5px;
        }
        input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
        }      
        button { 
            padding: 10px;
            text-align: center; 
            font-weight: bold;
            font-size: 18px;
            margin-top: 5px; 
            cursor: pointer;
            width: 100%; 
            border: none;
            border-radius: 5px; 
        }
        .btn-check {
            background-color: #4CAF50; 
            color: white;
        }
        .btn-paste {
            background-color: #2196F3; 
            color: white;
        }
        .btn-clear {
            background-color: #f44336; 
            color: white;
        }
        .btn-free-access {
            background-color: #ffa500;
            color: white;
            padding: 10px;
            text-align: center; 
            font-weight: bold;
            font-size: 18px;
            margin-top: 5px; 
            cursor: pointer;
            width: 100%; 
            border: none;
            border-radius: 5px;
        }
        .disabled {
            background-color: #d3d3d3;
            cursor: not-allowed;
        }
        button i {
            margin-left: 5px; 
        }
        /* تنسيق الرسائل */
        #message {
            margin-top: 10px; 
            color: red; 
            text-align: center; 
            font-weight: bold;
            font-size: 16px;
        }
        /* تنسيق رابط الواتساب */
        .whatsapp-link {
            color: blue; 
            text-decoration: underline; 
            cursor: pointer; 
            font-size: 20px; 
            font-weight: bold; 
        }
      
     #usernameDisplay {
    color: #FFFF00; /* لون النص */
    font-weight: bold; /* وزن الخط */
    font-size: 17px;  
    background-color: #0277BD; /* خلفية النص */
    border: 0px solid #ebccd1; /* حدود النص */
    padding: 10px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    border: 2px solid #1a237e; /* إضافة حد */
    margin-bottom: 5px;   
      }
      
      
        /* أنماط الشريط العلوي */
        .top-bar {
            position: fixed;
            top: 0px; /* المسافة من الأعلى */
            left: 50%; /* توسيط العنصر أفقيًا */
            transform: translateX(-50%); /* توسيط العنصر بدقة */
            width: 100%; /* عرض العنصر */
            height: 57.5px; /* ارتفاع العنصر */
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            display: flex;
            justify-content: space-between; /* توزيع العناصر */
            padding: 10px 15px; /* حشو داخلي */
            box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1); /* ظل خفيف */
            border-radius: 0px 0px 22.5px 22.5px; /* زوايا مستديرة */
            border-bottom: 3px solid white; /* حدود */
            align-items: center; /* توسيط العناصر عموديًا */
            z-index: 1; /* ترتيب العنصر */
            color: white; /* لون النص */
        }


.top-bar .menu-icon {
    font-size: 27.5px;
    cursor: pointer;
}

.top-bar .title {
    font-size: 18px; /* حجم الخط لعناصر العنوان */
    margin-left: 20px; /* مسافة بين السهم والعنوان */
    flex-grow: 1; /* يسمح للعناصر الأخرى بالتقلص عندما تكون الشاشة صغيرة */
    text-align: center; /* توسيط العنوان */
    font-weight: bold;  

}

.top-bar .icon {
    display: none; /* إخفاء الأيقونات بعد التعديل */
}
      
      
      
      
        /* تنسيق النافذة المنبثقة */
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            padding: 25px 30px;
            border-radius: 16px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.18);
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 10002;
            max-width: 85%;
            width: fit-content;
            min-width: 260px;
            max-width: 320px;
            text-align: center;
            border-top: 5px solid;
        }

        .popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        /* تنسيق الأيقونة */
        .popup-icon {
            font-size: 26px;
            margin-bottom: 2.5px;
            transition: all 0.3s;
        }

        /* تنسيق الرسالة */
        .popup-message {
            font-size: 20px;
            line-height: 1.0;
            font-weight: bold; 
            color: #333;
        }

        /* ألوان وأنواع الرسائل */
        .popup.info {
            border-color: #4285f4;
            background: linear-gradient(145deg, #f7faff, #e8f1fe);
        }
        .popup.warning {
            border-color: #fbbc05;
            background: linear-gradient(145deg, #fff9e6, #fff2cc);
        }
        .popup.error {
            border-color: #ea4335;
            background: linear-gradient(145deg, #ffefed, #ffe5e3);
        }
        .popup.success {
            border-color: #34a853;
            background: linear-gradient(145deg, #f0f9f2, #e6f5e9);
        }

        /* ألوان الأيقونات */
        .info .popup-icon { color: #4285f4; }
        .warning .popup-icon { color: #fbbc05; }
        .error .popup-icon { color: #ea4335; }
        .success .popup-icon { color: #34a853; }

        /* تأثيرات الحركة */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        .popup.show .popup-icon {
            animation: float 2s ease-in-out infinite;
        }

        /* طبقة التعتيم */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.45);
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s;
            backdrop-filter: blur(3px);
            pointer-events: none;
        }
        .popup-overlay.show {
            opacity: 1;
            display: block;
            pointer-events: auto;
        }

        .settings-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 10001;
            width: 90%;
            max-width: 400px;
            display: none;
            animation: fadeInUp 0.3s ease-out;
            border: 5px solid #ddd;
        }

        .settings-popup.show {
            display: block;
        }

        .settings-header {
            margin-bottom: 20px;
            text-align: center;
        }

        .settings-header h3 {
            margin: 0;
            font-size: 20px;
            color: #1a237e;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: bold;
        }

        .settings-content {
            max-height: 60vh;
            overflow-y: auto;
            padding-right: 5px;
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px 12px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }

        .settings-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            color: #333;
            font-size: 18px;
        }

        .settings-label i {
            font-size: 18px;
            width: 22px;
            text-align: center;
        }

        .settings-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .settings-checkbox {
            -webkit-appearance: none;
            appearance: none;
            width: 26px;
            height: 26px;
            border: 2px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
        }

        .settings-checkbox:checked {
            background-color: #0277bd;
            border-color: #0277bd;
        }

        .settings-checkbox:checked::after {
            content: '\f00c';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 10px;
        }

        .toggle-all {
            background: #f8f9fa;
            padding: 12px 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .toggle-all-label {
            font-weight: bold;
            color: #1a237e;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .settings-footer {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }

        .settings-footer a {
            flex: 1;
            padding: 10px 20px;
            font-size: 18px;
            border-radius: 8px;
            max-width: none;
        }

        /* ألوان خاصة بكل نوع من الرسائل */
        .info { 
            color: #0277bd; 
            border-left-color: #0277bd;
            background: #e3f2fd;
        }
        .success { 
            color: #2e7d32; 
            border-left-color: #2e7d32;
            background: #e8f5e9;
        }
        .warning { 
            color: #ff8f00; 
            border-left-color: #ff8f00;
            background: #fff8e1;
        }
        .error { 
            color: #c62828; 
            border-left-color: #c62828;
            background: #ffebee;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -55%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        /* تحسينات للشاشات الصغيرة */
        @media (max-width: 400px) {
            .settings-popup {
                padding: 15px;
            }
            
            .settings-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .settings-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .settings-select {
                width: 100%;
            }
        }

        #durationInfo {
            background-color: #1565c0;
            color: #fff;
            font-weight: 900;
            text-align: center;
            width: 100%;
            outline: none;
            border-radius: 60px;
            padding: 6px 20px;
            font-size: 18px;
            height: 45px;
            border: 0px solid #420c0c;
            border-radius: 5px;            
            margin:1.5px 0; 
            margin-top: 0px;      
        } 
              
        #durationInfo:focus{
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
        }
              
        #durationSuccess {
            background-color: #1565c0;
            color: #fff;
            font-weight: 900;
            text-align: center;
            width: 100%;
            outline: none;
            border-radius: 60px;
            padding: 6px 20px;
            font-size: 18px;
            height: 45px;
            border: 0px solid #420c0c;
            border-radius: 5px;            
            margin:1.5px 0; 
            margin-top: 0px;      
        } 
              
        #durationSuccess:focus{
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
        }
              
        #durationWarning {
            background-color: #1565c0;
            color: #fff;
            font-weight: 900;
            text-align: center;
            width: 100%;
            outline: none;
            border-radius: 60px;
            padding: 6px 20px;
            font-size: 18px;
            height: 45px;
            border: 0px solid #420c0c;
            border-radius: 5px;            
            margin:1.5px 0; 
            margin-top: 0px;      
        } 
              
        #durationWarning:focus{
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
        }
              
        #durationError {
            background-color: #1565c0;
            color: #fff;
            font-weight: 900;
            text-align: center;
            width: 100%;
            outline: none;
            border-radius: 60px;
            padding: 6px 20px;
            font-size: 18px;
            height: 45px;
            border: 0px solid #420c0c;
            border-radius: 5px;            
            margin:1.5px 0; 
            margin-top: 0px;      
        } 
              
        #durationError:focus{
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.50);
        }
      
      
        :root {
            --transition: all 0.3s ease;
        }
        
        /* زر العائمة الرئيسي */
        .floating-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }
        
        .floating-btn {
            bottom: 42.5px;
            right: -20px;
            width: 47.5px;
            height: 47.5px;
            background: linear-gradient(135deg, #0277bd, #1a237e); /* خلفية متدرجة */
            color: white;
            border-radius: 50%;
            display: ;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            border: none;
            outline: none;
            position: relative;
            z-index: 1001;
        }
        
        .floating-btn i {
            font-size: 28px;
            transition: var(--transition);
        }
        
        .floating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 15px rgba(67, 97, 238, 0.3);
        }
        
        .floating-btn.active {
            transform: rotate(135deg);
            background: linear-gradient(135deg, #f72585, #b5179e);
        }
        
        /* تأثير النبض */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(67, 97, 238, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(67, 97, 238, 0); }
            100% { box-shadow: 0 0 0 0 rgba(67, 97, 238, 0); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* القائمة المنبثقة */
        .floating-menu {
            position: absolute;
            bottom: 95px;
            right: -12.5px;
            width: 230px;
            background: linear-gradient(to right, white, #e1f5fe);
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: var(--transition);
            padding: 15px;
            z-index: 1000;
            border: 3px solid #ddd; /* حدود */
        }
        
        .floating-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
      
        /* إضافة هذا لمنع التمرير عند ظهور القائمة */
       .body-no-scroll {
         overflow: hidden;
         position: fixed;
         width: 100%;
         height: 100%;
        }   
      
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
        }      
        
        .menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;          
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2.5px solid #eee;
        }
        
        .menu-header h3 {
            color: #2b2d42;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin: 0;
        }
        
        .close-btn {
            position: absolute;
            top: 12px;
            left: -87.5px;
            background: none;
            border: none;
            color: #999;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            padding: 0;
            line-height: 1;
        }
        
        .close-btn:hover {
            color: #f72585;
            transform: rotate(90deg);
        }
        
        .menu-items {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .menu-item {
            padding: 10px 8px;
            margin: 2.5px 0;
            border-radius: 8px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .menu-item:hover {
            background-color: rgba(67, 97, 238, 0.1);
            transform: translateX(-5px);
        }
        
        .menu-item i {
            width: 25px;
            height: 25px;
            background: linear-gradient(135deg, #4895ef, #4361ee);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
        }
        
        .menu-item.gold i {
            background: linear-gradient(135deg, #ffb700, #ffd700);
        }
        
        .menu-item a {
            color: #2b2d42;
            text-decoration: none;
            font-weight: 500;
            flex-grow: 1;
            font-size: 16px;
            font-weight: bold;
        }
        
        .menu-item .badge {
            background-color: #f72585;
            color: white;
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 12px;
            font-weight: bold;
            margin-right: 2.5px;
        }
        
        .gold-badge {
            background: gold;
            color: white;
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 12px;
            margin-right: 1.5px;
            font-weight: bold;
        }
        
        /* تأثيرات دخول العناصر */
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .menu-item {
            animation: slideIn 0.3s forwards;
            opacity: 0;
        }
        
        .menu-item:nth-child(1) { animation-delay: 0.1s; }
        .menu-item:nth-child(2) { animation-delay: 0.2s; }
        .menu-item:nth-child(3) { animation-delay: 0.3s; }
        .menu-item:nth-child(4) { animation-delay: 0.4s; }
        .menu-item:nth-child(5) { animation-delay: 0.5s; }
        .menu-item:nth-child(6) { animation-delay: 0.6s; }
        .menu-item:nth-child(7) { animation-delay: 0.7s; }
        .menu-item:nth-child(8) { animation-delay: 0.8s; }      

      
      
    .color-palette {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        padding: 12.5px;
        background: #f5f5f5;
        border-radius: 8px;
        margin-left: 0px;
        max-width: 385px;
      margin-top: 2.5px;
      margin-bottom: 2.5px;
      border: 2.5px solid #212121;
    }
    
    .color-option {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
    }
    
    .color-option:hover {
        border-color: #333;
        transform: scale(1.1);
    }
    
    .color-option.selected {
        border-color: #333;
        transform: scale(1.2);
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }
    
    #textbox4.highlighted, 
    #textbox15.highlighted,
    #textbox25.highlighted,       
    #textbox29.highlighted {
        background-color: var(--tax-highlight-color, #FFFF99);
        transition: background-color 0.3s ease;
    } 
      
      
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.85); /* خلفية أكثر عتامة */
            z-index: 9999; /* أعلى قيمة لضمان ظهوره فوق كل شيء */
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px); /* تأثير ضبابي للخلفية */
        }
        
        .modal-content {
            width: 90%;
            max-width: 900px;
            background-color: transparent; /* خلفية شفافة */
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0,0,0,0.7);
            position: relative;
        }
        
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* نسبة 16:9 */
            height: 0;
            overflow: hidden;
            border-radius: 8px;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }      
      
    </style>
    <body onload="checkStoredVisitID()">
      
<div class="top-bar">
    <div class="menu-icon" id="menuIcon" onclick="toggleSidebar()">
        <i class="fas fa-arrow-right" onclick="window.location.href='https://taxlawapp.github.io/Tax-calculation/Tax-calculation.html'"></i> <!-- سهم العودة -->
    </div>
    <div class="title">
         حساب ضريبة القيمة المضافة ق 167 لسنة 2016
    </div>
</div>

<!-- القائمة السفلية -->
<div class="navbar">
    <a href="https://taxlawapp.github.io/home/Login.html" class="nav-item">
        <i class="fas fa-user icon"></i>
        <span>حسابي</span>
    </a>
    <a href="https://taxlawapp.github.io/home/pro.html" class="nav-item">
        <i class="fas fa-crown icon" style="color: gold;"></i>
        <span>برو</span>
    </a>     
    <a href="https://taxlawapp.github.io/home/home.html" class="nav-item home">
        <i class="fas fa-home icon"></i>
        <span>الرئيسية</span>
    </a>
    <a href="https://youtube.com/@taxlawapp" class="nav-item">
        <i class="fab fa-youtube icon"></i>
        <span>قناتي</span>
    </a>
    <a href="https://taxlawapp.github.io/home/Settings.html" class="nav-item">
        <i class="fas fa-ellipsis-h icon"></i>
        <span>المزيد</span>
    </a>      
</div>

      
    <span style="display:none;" id="usernameDisplay"></span> <!-- عرض اسم المستخدم هنا -->     
      
    <!-- الخلفية الشفافة -->
    <div id="overlay"></div>

    <!-- نافذة إدخال معرف الزيارة -->
    <div id="visitPrompt">
        <h2>حساب الضريبة علي القيمة المضافة وفقاً لقانون 67 لسنة 2016 وتعديلاته</h2>
        <p>يرجي إدخال معرف إستخدام الشاشة :</p>
        <input type="text" id="visitIDInput" placeholder="أدخل معرف الزيارة الخاص بك">
        <button class="btn-free-access" id="freeAccessBtn" onclick="firstFreeAccess()"> مجاناً <i class="fas fa-user"></i></button>      
        <button class="btn-check" onclick="checkVisitID()"> التحقق <i class="fas fa-check"></i></button>
        <button class="btn-paste" onclick="pasteVisitID()"> لصق <i class="fas fa-paste"></i></button>
        <button class="btn-clear" onclick="clearVisitID()"> إفراغ <i class="fas fa-trash-alt"></i></button>
        <div id="message"></div> <!-- ديف لعرض الرسائل -->
        <div id="contactMessage" style="text-align: center; margin-top: 10px;"></div>
    </div>

    <!-- محتوى الصفحة المخفي -->
    <div id="pageContent" style="display: none;">      


        <div class="form outer">

            <h2>حساب الضريبة علي القيمة المضافة وفقاً لقانون 67 لسنة 2016 وتعديلاته</h2>

          
            <div class="input">
                    <div class="row inputbox">
                    <div class="col-md-6">
                                      <label id="textbox31">١ ) حساب ضريبة القيمة المضافة علي المبيعات</label>       
                                  
                         <div class="row inputbox">
                    <div class="col-md-6">
                    <label for="name">القيمة البيعية للسلعة / الخدمة :</label>
                    <input class="form-control" id="textbox1" placeholder="أدخل القيمة البيعية" required="" type="number" />
                    </div>              
                      
                                                   
  
                <div class="row inputbox">
                    <div class="col-md-6">
                    <label for="name">السلعة / الخدمة :</label> 
                        <select  class="form-control" id="textbox13" onchange="show1()"  placeholder="" type="text">
                        <option>-- اختر من القائمة السلعة / الخدمة --</option>
                        <option>السعر العام</option>
                        <option>السعر للتصدير</option>
                        <option>السعر علي الالات والمعدات المستوردة</option>
                        <option>المقرمشات والمنتجات المصنعة من دقيق</option>
                        <option>الحلوي من عجين</option>
                        <option>البطاطس المصنعة ( الشيبسي وأبداله )</option>
                        <option>الجبس</option>
                        <option>الصابون والمنظفات الصناعية </option>
                        <option>المقاولات واعمال التشيد والبناء</option>
                        <option>النقل المكيف بين المحافظات</option>
                        <option>الخدمات المهنية والاستشارية</option>
                        <option>الانتاج الاعلامي والبرامجي والافلام السينمائية .. الخ</option>
                        <option>الايجار أو البيع  بشرط له سمة تجارية وتواصل بالناس</option>
                        <option>مياة غازية ( بيبسي وابداله )</option>
                        <option>مستحضرات التجميل والعناية والتطرية للبشرة والشعر</option> 
                        <option>التليفزيونات ( أكبر من 32 بوصة )</option>
                        <option>الثلاجات ( أكبر من 16 قدم )</option>
                        <option>الديب فريزر</option>
                        <option>أجهزة التكييف والتبريد ووحداتها</option>
                        <option>خدمات الاتصالات وشبكات المحمول</option>                         
                        </select> 
                      
<div id="warningMessage" style="display: none; margin-top: 2.5px; padding: 15px; border-radius: 5px; background-color: #fff4f4; border-left: 4px solid #ff5252; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <div style="display: flex; align-items: center; gap: 10px;">
    <svg style="flex-shrink: 0;" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="#ff5252" stroke-width="2" stroke-linecap="round"></path>
    </svg>
    <span style="color: #d32f2f; font-weight: 600; font-size: 16px;">
      تم إلغاء ضريبة الجدول (5%) علي بند المقاولات وخصوع المقاولات لضريبة القيمة المضافة بالسعر العام (14%) وذلك إعتباراً من 18/07/2025 وفق القانون 157 لسنة 2025 الصادر بتعديل بعض أحكام القانون رقم 67 لسنة 2016.
    </span>
  </div>
</div>                       
                      
                          
                    <div class="row">
                        <div class="col-md-6">
                        <label  style="display:none;" id="textbox18">ضريبة الجدول :</label>
                        <input class="form-control" disabled="" id="textbox4" style="display:none;" placeholder="" readonly="" type="text" />
                        </div>
                      
                    <div class="row">
                        <div class="col-md-6">
                        <label style="display:none;" id="textbox19">القيمة البيعية شاملة ضريبة الجدول :</label>
                        <input class="form-control" disabled="" id="textbox14" style="display:none;" placeholder="" readonly="" type="text" />
                        </div> 
                      
                    <div class="row">
                        <div class="col-md-6">
                        <label style="display:none;" id="textbox20">ضريبة القيمة المضافة :</label>
                        <input class="form-control" disabled="" id="textbox15" style="display:none;" placeholder="" readonly="" type="text" />
                        </div>
                      
                    <div class="row">
                        <div class="col-md-6">
                        <label style="display:none;" id="textbox21">القيمة البيعية شاملة ضريبة القيمة المضافة :</label>
                        <input class="form-control" disabled="" id="textbox16" style="display:none;" placeholder="" readonly="" type="text" />
                        </div>                        

                </div>

                
                <div class="col-md-6">
                    <label for="name"></label>
                
                    
                    
                <!--   <textarea class="form-contro2" disabled="" id="textbox5" readonly=""></textarea> -->
                
                
                </div>
                                                                                                 
                <div class="inputbox row1 ">
                    <div class="col-md-6">
                      
    <a onclick="calculateTaxFromInspection()" id="button2" class="button"><i class="fas fa-check-circle"></i> إحسب الضريبة المستحقة</a> <!-- زر تنفيذي مع أيقونة تحقق -->
                                          
                </div>
            </div>

                      
                    <!-- إحسب الضريبة النهائية -->
                         <label id="textbox31">٢ ) حساب أصل مبلغ ضريبة القيمة المضافة</label>     
                          
                      <div class="col-md-6">
                      <label for="name">المبلغ شامل ضريبة القيمة المضافة :</label>
                      <input class="form-control" id="textbox3" placeholder="أدخل المبلغ شامل الضريبة" type="number" />
                      </div>  

                      
                      
                <div class="row inputbox">
                    <div class="col-md-6">
                    <label for="name">السلعة / الخدمة :</label> 
                        <select  class="form-control" id="textbox9" onchange="show2()" placeholder="" type="text">
                        <option>-- اختر من القائمة السلعة / الخدمة --</option>
                        <option>السعر العام</option>
                        <option>السعر علي الالات والمعدات المستوردة</option>
                        <option>مياة غازية ( بيبسي وابداله )</option>
                        <option>مستحضرات التجميل والعناية والتطرية للبشرة والشعر</option> 
                        <option>التليفزيونات ( أكبر من 32 بوصة )</option>
                        <option>الثلاجات ( أكبر من 16 قدم )</option>
                        <option>الديب فريزر</option>
                        <option>أجهزة التكييف والتبريد ووحداتها</option>
                        <option>خدمات الاتصالات وشبكات المحمول</option>                         
                        </select>                         
                      
                      
                      <div class="row">
                        <div class="col-md-6">
                        <label  style="display:none;" id="textbox22">أصل المبلغ المحسوب علية القيمة المضافة :</label>
                        <input class="form-control" disabled="" id="textbox24" style="display:none;" placeholder="" readonly="" type="text" />
                        </div>
                      
                    <div class="row">
                        <div class="col-md-6">
                        <label style="display:none;" id="textbox23">ضريبة القيمة المضافة :</label>
                        <input class="form-control" disabled="" id="textbox25" style="display:none;" placeholder="" readonly="" type="text" />
                        </div> 
                      
                      
                          
                        <!--  <textarea class="form-contro2" disabled="" id="textbox7" readonly=""></textarea>-->
                        
                        
                        </div>
                    </div>
            
                

                    <div class="inputbox row1 ">
                        <div class="col-md-6">
                          
    <a onclick="calculateFinalTax()" id="button4" class="button"><i class="fas fa-check-circle"></i> إحسب أصل المبلغ</a> <!-- زر تنفيذي مع أيقونة تحقق -->
                          

                        
                    </div>
                </div>

                      
                      <label id="textbox31">٣ ) حساب أصل مبلغ ضريبة الجدول</label>
                         
                      <div class="col-md-6">
                      <label for="name">المبلغ شامل ضريبة الجدول :</label>
                      <input class="form-control" id="textbox30" placeholder="أدخل المبلغ شامل الضريبة" type="number" />
                      </div>                       

                      
                <div class="row inputbox">
                    <div class="col-md-6">
                    <label for="name">السلعة / الخدمة :</label> 
                        <select  class="form-control" id="textbox10"  onchange="show3()" placeholder="" type="text">
                        <option>-- اختر من القائمة السلعة / الخدمة --</option>
                        <option>المقرمشات والمنتجات المصنعة من دقيق</option>
                        <option>الحلوي من عجين</option>
                        <option>البطاطس المصنعة ( الشيبسي وأبداله )</option>
                        <option>الجبس</option>
                        <option>الصابون والمنظفات الصناعية </option>
                        <option>المقاولات واعمال التشيد والبناء</option>
                        <option>النقل المكيف بين المحافظات</option>
                        <option>الخدمات المهنية والاستشارية</option>
                        <option>الانتاج الاعلامي والبرامجي والافلام السينمائية .. الخ</option>
                        <option>الايجار أو البيع  بشرط له سمة تجارية وتواصل بالناس</option>
                        <option>مياة غازية ( بيبسي وابداله )</option>
                        <option>مستحضرات التجميل والعناية والتطرية للبشرة والشعر</option> 
                        <option>التليفزيونات ( أكبر من 32 بوصة )</option>
                        <option>الثلاجات ( أكبر من 16 قدم )</option>
                        <option>الديب فريزر</option>
                        <option>أجهزة التكييف والتبريد ووحداتها</option>
                        <option>خدمات الاتصالات وشبكات المحمول</option>                         
                        </select>                       
                      
<div id="warningMessage0" style="display: none; margin-top: 2.5px; padding: 15px; border-radius: 5px; background-color: #fff4f4; border-left: 4px solid #ff5252; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <div style="display: flex; align-items: center; gap: 10px;">
    <svg style="flex-shrink: 0;" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="#ff5252" stroke-width="2" stroke-linecap="round"></path>
    </svg>
    <span style="color: #d32f2f; font-weight: 600; font-size: 16px;">
      تم إلغاء ضريبة الجدول (5%) علي بند المقاولات وخصوع المقاولات لضريبة القيمة المضافة بالسعر العام (14%) وذلك إعتباراً من 18/07/2025 وفق القانون 157 لسنة 2025 الصادر بتعديل بعض أحكام القانون رقم 67 لسنة 2016.
    </span>
  </div>
</div>                       

                    <div class="row">
                        <div class="col-md-6">
                        <label id="textbox26" style="display:none;">أصل المبلغ المحسوب عليه ضريبة الجدول :</label>
                        <input class="form-control" disabled="" id="textbox28" style="display:none;" placeholder="" readonly="" type="text" />
                        </div>
                      
                    <div class="row">
                        <div class="col-md-6">
                        <label id="textbox27" style="display:none;">ضريبة الجدول :</label>
                        <input class="form-control" disabled="" id="textbox29" style="display:none;" placeholder="" readonly="" type="text" />
                        </div>                      

                      
                    <div class="inputbox row1 ">
                        <div class="col-md-6">
                          
    <a onclick="calculateFinalTax1()" id="button5" class="button"><i class="fas fa-check-circle"></i> إحسب أصل المبلغ</a> <!-- زر تنفيذي مع أيقونة تحقق -->
                          
       <a onclick="resetButton" id="button6" class="button"><i class="fas fa-times-circle"></i> إفراغ البيانات</a>
                      
                </div></div></div></div></div></div></div></div></div></div></div></div></div>



    <!-- الخلفية المعتمة -->
    <div class="overlay" id="overlay"></div>                 
                      
    <!-- زر الفعل العائم والقائمة -->
    <div class="floating-container">
        <div class="floating-menu" id="floatingMenu">
            <div class="menu-header">
            <h3>روابط هامة للمستخدم :</h3>
                <button class="close-btn" id="closeMenu">❌</button>    
            </div>
            <ul class="menu-items">
                <li class="menu-item" onclick="openSettings()" style="cursor: pointer;">
                  <i class="fas fa-cog"></i>
                  <a>الإعدادات الخاصة بالشاشة</a>
                </li>
               <li class="menu-item" onclick="openVideoPopup()" style="cursor: pointer;">
                  <i class="fas fa-lightbulb"></i>
                  <a>فيديو إستخدام الشاشة</a>
                </li>              
               <li class="menu-item">
                  <i class="fas fa-lightbulb"></i>
                  <a href="https://taxlawapp.github.io/home/ideas.html">تقديم الإقتراحات للتطوير</a>
                </li>
              <li class="menu-item">
                  <i class="fas fa-exclamation-triangle"></i>
                  <a href="https://taxlawapp.github.io/home/problems.html">الإبلاغ الأخطاء المكتشفة</a>
                </li>              
                <li class="menu-item">
                    <i class="fas fa-share-alt"></i>
                    <a href="https://taxlawapp.github.io/home/Share-app.html">شارك التطبيق لأصدقائك</a>
                </li>
                <li class="menu-item">
                    <i class="fas fa-star-half-alt"></i>
                    <a href="https://play.google.com/store/apps/details?id=com.mrizk.taxlawapp">تقييم التطبيق عـ المتجر</a>
                </li>
            </ul>
        </div>

        
        <button class="floating-btn pulse" id="mainButton">
            <i class="fas fa-plus"></i>
        </button>
    </div>
  
<!-- النص العائم -->
<div class="floating-text" id="floatingText">
    إضغط هنا لعرض المزايا والإعدادات 
</div>                       

    <!-- نافذة الفيديو المنبثقة -->
    <div id="videoModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeVideoPopup()"></span>
            <div class="video-container">
                <iframe id="youtubeVideo" src="" frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen></iframe>
            </div>
        </div>
    </div>                      
                      
                      
    <!-- طبقة التعتيم -->
    <div id="popupOverlay" class="popup-overlay"></div>
    
    <!-- النافذة المنبثقة -->
    <div id="customPopup" class="popup">
        <div class="popup-icon" id="popupIcon"></div>
        <div class="popup-message" id="popupMessage"></div>
    </div>                      
                      
<!-- زر فتح الإعدادات -->
    <div id="customPopup" class="popup">
        <div class="popup-content">
            <div class="popup-icon" id="popupIcon"></div>
            <div class="popup-message" id="popupMessage"></div>
        </div>
    </div>

    <div id="popupSettings" class="settings-popup">
        <div class="settings-header">
            <h3><i class="fas fa-sliders-h"></i> إعدادات شاشة | ضريبة القيمة المضافة</h3>
        </div>
        
        <div class="settings-content">
          
<div class="toggle-all">
    <input type="checkbox" class="settings-checkbox" id="defaultSettingsEnabled" onchange="handleDefaultSettingsToggle()" checked>
    <label class="toggle-all-label">
        <i class="fas fa-cog"></i>
        <span>تفعيل عدم إفراغ الحقول الأساسية</span>
    </label>
</div> 
          
<!-- زر تمييز حقول احتساب الضريبة -->
<div class="toggle-all">
    <input type="checkbox" class="settings-checkbox" id="highlightTaxFieldsEnabled" onchange="handleHighlightTaxFieldsToggle()" checked>
    <label class="toggle-all-label">
        <i class="fas fa-highlighter"></i>
        <span>تمييز لون حقول إحتساب الضريبة</span>
    </label>
</div>
          
    <!-- ألوان التمييز (مخفية بشكل افتراضي) -->
    <div class="color-palette" id="taxFieldsColorPalette" style="display: none; margin-top: 10px;">
        <div class="color-option" data-color="#FFFF99" style="background-color: #FFFF99;" onclick="selectTaxHighlightColor(this)" title="أصفر فاتح"></div>      
        <div class="color-option" data-color="#E0FFFF" style="background-color: #E0FFFF;" onclick="selectTaxHighlightColor(this)" title="سماوي فاتح"></div>
        <div class="color-option" data-color="#FFCC99" style="background-color: #FFCC99;" onclick="selectTaxHighlightColor(this)" title="برتقالي فاتح"></div>
        <div class="color-option" data-color="#99CCFF" style="background-color: #99CCFF;" onclick="selectTaxHighlightColor(this)" title="أزرق فاتح"></div>
        <div class="color-option" data-color="#99FF99" style="background-color: #99FF99;" onclick="selectTaxHighlightColor(this)" title="أخضر فاتح"></div>
        <div class="color-option" data-color="#FF99FF" style="background-color: #FF99FF;" onclick="selectTaxHighlightColor(this)" title="وردي فاتح"></div>
        <div class="color-option" data-color="#CC99FF" style="background-color: #CC99FF;" onclick="selectTaxHighlightColor(this)" title="بنفسجي فاتح"></div>
        <div class="color-option" data-color="#FF9999" style="background-color: #FF9999;" onclick="selectTaxHighlightColor(this)" title="أحمر فاتح"></div>      
    </div>          
          
            <div class="toggle-all">
                <input type="checkbox" class="settings-checkbox" id="popupEnabled" onchange="toggleAllMessages()">
                <label class="toggle-all-label">
                    <i class="fas fa-bell"></i>
                    <span>تفعيل إختفاء جميع الرسائل التنبهية</span>
                </label>
            </div>
          
            <div class="toggle-all">
            <input type="checkbox" class="settings-checkbox" id="resetAllDurations" onchange="resetAllDurations()">
                <label class="toggle-all-label">
                    <i class="fas fa-sliders-h"></i>
                    <span>ضبط إختفاء جميع الرسائل التنبهية</span>
                </label>
            </div>          
          
            

          
            <div class="settings-item">
                <label class="settings-label">
                    <i class="fas fa-info-circle info"></i>
                    <span>التحكم فـ ظهور / ومدة إختفاء رسائل المعلومات (Info) :</span>
                </label>
                <div class="settings-controls">
                    <select class="settings-select" id="durationInfo">
                        <option value="1000" selected>1 ثانية</option> <!-- ✅ الافتراضي -->
                        <option value="2500">2.5 ثانية</option>
                        <option value="5000">5 ثواني</option>
                        <option value="10000">10 ثواني</option>
                        <option value="15000">15 ثانية</option>
                        <option value="30000">30 ثانية</option>
                    </select>
                    <input type="checkbox" class="settings-checkbox" id="enableInfo" onchange="updateSettings('info')">
                </div>
            </div>

            <div class="settings-item">
                <label class="settings-label">
                    <i class="fas fa-check-circle success"></i>
                    <span>التحكم فـ ظهور / ومدة إختفاء رسائل النجاح (Success) :</span>
                </label>
                <div class="settings-controls">
                    <select class="settings-select" id="durationSuccess">
                        <option value="1000" selected>1 ثانية</option> <!-- ✅ الافتراضي -->
                        <option value="2500">2.5 ثانية</option>
                        <option value="5000">5 ثواني</option>
                        <option value="10000">10 ثواني</option>
                        <option value="15000">15 ثانية</option>
                        <option value="30000">30 ثانية</option>
                    </select>
                    <input type="checkbox" class="settings-checkbox" id="enableSuccess" onchange="updateSettings('success')">
                </div>
            </div>

            <div class="settings-item">
                <label class="settings-label">
                    <i class="fas fa-exclamation-triangle warning"></i>
                    <span>التحكم فـ ظهور / ومدة إختفاء رسائل التحذير (Warning) :</span>
                </label>
                <div class="settings-controls">
                    <select class="settings-select" id="durationWarning">
                        <option value="1000" selected>1 ثانية</option> <!-- ✅ الافتراضي -->           
                        <option value="2500">2.5 ثانية</option>
                        <option value="5000">5 ثواني</option>
                        <option value="10000">10 ثواني</option>
                        <option value="15000">15 ثانية</option>
                        <option value="30000">30 ثانية</option>
                    </select>
                    <input type="checkbox" class="settings-checkbox" id="enableWarning" onchange="updateSettings('warning')">
                </div>
            </div>

            <div class="settings-item">
                <label class="settings-label">
                    <i class="fas fa-times-circle error"></i>
                    <span>التحكم فـ ظهور / ومدة إختفاء رسائل الخطأ (Error) :</span>
                </label>
                <div class="settings-controls">
                    <select class="settings-select" id="durationError">
                        <option value="1000" selected>1 ثانية</option> <!-- ✅ الافتراضي -->
                        <option value="2500">2.5 ثانية</option>
                        <option value="5000">5 ثواني</option>
                        <option value="10000">10 ثواني</option>
                        <option value="15000">15 ثانية</option>
                        <option value="30000">30 ثانية</option>
                    </select>
                    <input type="checkbox" class="settings-checkbox" id="enableError" onchange="updateSettings('error')">
                </div>
            </div>


  
        </div>

        <div class="settings-footer">
            <a onclick="saveSettings()" class="button"><i class="fas fa-save"></i> حفظ</a>
            <a onclick="closeSettings()" class="button" style="background: linear-gradient(135deg, #e53935, #c62828);"><i class="fas fa-times"></i> إغلاق</a>
        </div>
    </div>
</div></div></div></div></div></div>

    <script>  
function setDefaultFormValues() {
    // السلعة / الخدمة: السعر العام
    const legalEntitySelect = document.getElementById('textbox13');
    if (legalEntitySelect) {
        for (let i = 0; i < legalEntitySelect.options.length; i++) {
            if (legalEntitySelect.options[i].text.includes('السعر العام')) {
                legalEntitySelect.selectedIndex = i;
                break;
            }
        }
    }

    // السلعة / الخدمة: السعر العام
    const accountingTypeSelect = document.getElementById('textbox9');
    if (accountingTypeSelect) {
        for (let i = 0; i < accountingTypeSelect.options.length; i++) {
            if (accountingTypeSelect.options[i].text.includes('السعر العام')) {
                accountingTypeSelect.selectedIndex = i;
                break;
            }
        }
    }

    // السلعة / الخدمة: السعر العام
    const bindingBasisSelect = document.getElementById('textbox10');
    if (bindingBasisSelect) {
        for (let i = 0; i < bindingBasisSelect.options.length; i++) {
            if (bindingBasisSelect.options[i].text.includes('المقرمشات والمنتجات المصنعة من دقيق')) {
                bindingBasisSelect.selectedIndex = i;
                break;
            }
        }
    }
}

// استدعاء الدالة عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', setDefaultFormValues);
    
   
 
// دالة للتحكم في تفعيل وإلغاء افراغ الحقول الاساسية
function handleDefaultSettingsToggle() {
    // الحصول على عنصر خانة الاختيار
    const defaultSettingsCheckbox = document.getElementById('defaultSettingsEnabled');
    const isChecked = defaultSettingsCheckbox.checked;
    
    // حفظ الحالة في التخزين المحلي عند التفعيل أو إزالتها عند الإلغاء
    if (isChecked) {
        localStorage.setItem('defaultSettingsEnabled', 'true');
    } else {
        localStorage.removeItem('defaultSettingsEnabled');
    }
    
    // تحضير الرسالة المناسبة حسب الحالة
    const message = isChecked 
        ? "تم تفعيل عدم إفراغ حقول الإدخال الأساسية" 
        : "تم إلغاء تفعيل إفراغ حقول الإدخال الأساسية";
    
    // نوع الرسالة (نجاح للمسح، معلومة للتأكيد)
    const messageType = isChecked ? 'info' : 'success';
    
    // عرض الرسالة المنبثقة
    showPopup(message, messageType, 1000, true);

    // تأخير تنفيذ العمليات لضمان ظهور الرسالة
    setTimeout(() => {
        if (isChecked) {
            setDefaultFormValues(); // تعيين القيم الافتراضية
        } else {
            resetAllSelectsToFirstOption(); // إعادة تعيين الحقول
        }
    }, 300);
}

// دالة لعرض الرسائل المنبثقة
function showPopup(message, type = 'info', duration = 1000, closable = true) {
    // التحقق من وجود عناصر النافذة المنبثقة أو إنشائها
    let popup = document.getElementById('custom-popup');
    let overlay = document.getElementById('custom-overlay');
    
    if (!popup) {
        createPopupElements(); // إنشاء العناصر إذا لم تكن موجودة
        popup = document.getElementById('custom-popup');
        overlay = document.getElementById('custom-overlay');
    }
    
    // تعيين محتوى الرسالة ونوعها
    popup.querySelector('.popup-message').textContent = message;
    popup.className = `popup show popup-${type}`;
    overlay.className = 'overlay show';
    
    // إغلاق تلقائي بعد المدة المحددة
    if (duration > 0) {
        setTimeout(hidePopup, duration);
    }
}

// دالة لإنشاء عناصر النافذة المنبثقة في واجهة المستخدم
function createPopupElements() {
    // إنشاء طبقة التغطية الخلفية
    const overlay = document.createElement('div');
    overlay.id = 'custom-overlay';
    overlay.className = 'overlay';
    
    // إنشاء النافذة المنبثقة الرئيسية
    const popup = document.createElement('div');
    popup.id = 'custom-popup';
    popup.className = 'popup';
    
    // بناء الهيكل الداخلي للنافذة
    popup.innerHTML = `
        <div class="popup-content">
            <span class="popup-message"></span>
            <button class="popup-close">×</button>
        </div>
    `;
    
    // إضافة العناصر إلى الجسم الرئيسي للصفحة
    document.body.appendChild(overlay);
    document.body.appendChild(popup);
    
    // إضافة معالجات أحداث للإغلاق
    popup.querySelector('.popup-close').addEventListener('click', hidePopup);
    overlay.addEventListener('click', hidePopup);
}

// دالة لإخفاء النافذة المنبثقة
function hidePopup() {
    const popup = document.getElementById('custom-popup');
    const overlay = document.getElementById('custom-overlay');
    
    if (popup) popup.classList.remove('show');
    if (overlay) overlay.classList.remove('show');
}

// دالة لتعيين القيم الافتراضية للنموذج
function setDefaultFormValues() {
// السلعة / الخدمة: السعر العام
  setSelectValue('textbox13', 'السعر العام');
  show1();  
  
// السلعة / الخدمة: السعر العام
  setSelectValue('textbox9', 'السعر العام');
  show2();   
  
// السلعة / الخدمة: السعر العام
  setSelectValue('textbox10', 'المقرمشات والمنتجات المصنعة من دقيق');
  show3();
}

// العناصر
function setSelectValue(id, searchText) {
    const selectElement = document.getElementById(id);
    if (selectElement) {
        for (let i = 0; i < selectElement.options.length; i++) {
            if (selectElement.options[i].text.includes(searchText)) {
                selectElement.selectedIndex = i;
                break;
            }
        }
    }
}


// دالة لإعادة تعيين جميع حقول select إلى الخيار الأول
function resetAllSelectsToFirstOption() {
    const selectIds = ['textbox10', 'textbox13', 'textbox9'];
    
    selectIds.forEach(id => {
        const selectElement = document.getElementById(id);
        if (selectElement && selectElement.options.length > 0) {
            selectElement.selectedIndex = 0;
        }
    });
}

// تهيئة الصفحة عند التحميل
document.addEventListener('DOMContentLoaded', function() {
    const checkbox = document.getElementById('defaultSettingsEnabled');
    
    if (checkbox) {
        // التحقق من وجود إعدادات محفوظة مسبقاً
        const isDefaultEnabled = localStorage.getItem('defaultSettingsEnabled') === 'true';
        
        // تعيين حالة الخانة حسب التخزين المحلي
        checkbox.checked = isDefaultEnabled;
        
        if (isDefaultEnabled) {
            // إذا كانت مفعلة مسبقاً، تعيين القيم بدون عرض الرسالة
            setDefaultFormValues();
        } else {
            // إذا لم تكن مفعلة، تفعيلها تلقائياً وعرض الرسالة
            checkbox.checked = true;
            localStorage.setItem('defaultSettingsEnabled', 'true');
            showPopup("تم تفعيل عدم إفراغ حقول الإدخال الأساسية", 'info', 1000, true);
            setDefaultFormValues();
        }
    }
});
      
      
// اعدادات الاختفاء الاساسية 
function resetAllDurations(suppressMessage = false) {
    const resetCheckbox = document.getElementById('resetAllDurations');
    const durationSelects = [
        document.getElementById('durationInfo'),
        document.getElementById('durationSuccess'),
        document.getElementById('durationWarning'),
        document.getElementById('durationError')
    ];

    if (resetCheckbox.checked) {
        // ضبط جميع المدد إلى 1 ثانية (الخيار الأول) وإقفالها
        durationSelects.forEach(select => {
            if (select) {
                select.selectedIndex = 0;
                select.disabled = true;
            }
        });
        
        // حفظ الحالة في التخزين المحلي
        localStorage.setItem('resetAllDurations', 'true');
        
        // عرض الرسالة فقط إذا لم يتم كتمها
        if (!suppressMessage) {
            showPopup('تم ضبط اعدادات إختفاء الرسائل بعد 1 ثانية تلقائي', 'success', 1000, true);
        }
    } else {
        // إعادة فتح جميع المدد
        durationSelects.forEach(select => {
            if (select) select.disabled = false;
        });
        
        // حذف الحالة من التخزين المحلي
        localStorage.removeItem('resetAllDurations');
        
        // عرض الرسالة فقط إذا لم يتم كتمها
        if (!suppressMessage) {
            showPopup('تم إلغاء الإختفاء الإفتراضي يمكنك ضبط كل رسالة علي حدة', 'info', 1000, true);
        }
    }
}

// تهيئة العنصر عند تحميل الصفحة (بدون عرض الرسالة)
function initializeResetCheckbox() {
    const resetCheckbox = document.getElementById('resetAllDurations');
    if (localStorage.getItem('resetAllDurations') === 'true') {
        resetCheckbox.checked = true;
        resetAllDurations(true); // نمرر true لكتم الرسالة
    }
}

// استدعاء الدالة عند تحميل الصفحة
window.addEventListener('DOMContentLoaded', initializeResetCheckbox);
      
// دالة عرض الرسائل المنبثقة
function showPopup(message, type = 'info') {
    // إنشاء العناصر إذا لم تكن موجودة
    if (!document.getElementById('popupOverlay')) {
        createPopupElements();
    }

    const popup = document.getElementById('customPopup');
    const overlay = document.getElementById('popupOverlay');
    const icon = document.getElementById('popupIcon');
    const msg = document.getElementById('popupMessage');

    // تعيين محتوى الرسالة
    msg.textContent = message;

    // تعيين النوع والمظهر
    popup.className = `popup ${type}`;

    // تعيين الأيقونة المناسبة
    const icons = {
        'info': 'fas fa-info-circle',
        'success': 'fas fa-check-circle',
        'warning': 'fas fa-exclamation-triangle',
        'error': 'fas fa-times-circle'
    };
    icon.className = `popup-icon ${icons[type] || icons['info']}`;

    // عرض الرسالة
    popup.classList.add('show');
    overlay.classList.add('show');

    // إخفاء تلقائي بعد 1 ثانية
    setTimeout(hidePopup, 1000);
}

// دالة إخفاء الرسالة المنبثقة
function hidePopup() {
    const popup = document.getElementById('customPopup');
    const overlay = document.getElementById('popupOverlay');
    
    if (popup) popup.classList.remove('show');
    if (overlay) overlay.classList.remove('show');
}      
      

      
// اعدادات تلوين حقول احتساب الضريبة      
const taxFieldsIds = ['textbox29', 'textbox25', 'textbox4', 'textbox15'];
    
    // عند تحميل الصفحة، تحميل التفضيلات من التخزين المحلي
    document.addEventListener('DOMContentLoaded', function() {
        loadTaxHighlightSettings();
    });
    
    // تبديل تمييز الحقول
    function handleHighlightTaxFieldsToggle() {
        const checkbox = document.getElementById('highlightTaxFieldsEnabled');
        const colorPalette = document.getElementById('taxFieldsColorPalette');
        
        if (checkbox.checked) {
            colorPalette.style.display = 'flex';
            
            // تطبيق اللون المحفوظ إذا كان موجوداً
            const savedColor = localStorage.getItem('taxHighlightColor');
            if (savedColor) {
                applyHighlightColor(savedColor);
                selectColorOption(savedColor);
            } else {
                // لون افتراضي إذا لم يكن هناك لون محفوظ
                applyHighlightColor('#FFFF99');
                selectColorOption('#FFFF99');
            }
        } else {
            colorPalette.style.display = 'none';
            removeHighlightFromFields();
        }
        
        // حفظ الحالة في التخزين المحلي
        localStorage.setItem('taxHighlightEnabled', checkbox.checked);
    }
    
    // اختيار لون التمييز
    function selectTaxHighlightColor(element) {
        const color = element.getAttribute('data-color');
        applyHighlightColor(color);
        selectColorOption(color);
        
        // حفظ اللون المختار في التخزين المحلي
        localStorage.setItem('taxHighlightColor', color);
    }
    
    // تطبيق لون التمييز على الحقول
    function applyHighlightColor(color) {
        taxFieldsIds.forEach(id => {
            const field = document.getElementById(id);
            if (field) {
                field.style.setProperty('--tax-highlight-color', color);
                field.classList.add('highlighted');
            }
        });
    }
    
    // إزالة التمييز من الحقول
    function removeHighlightFromFields() {
        taxFieldsIds.forEach(id => {
            const field = document.getElementById(id);
            if (field) {
                field.classList.remove('highlighted');
            }
        });
    }
    
    // تحديد خيار اللون في لوحة الألوان
    function selectColorOption(color) {
        const colorOptions = document.querySelectorAll('.color-option');
        colorOptions.forEach(option => {
            if (option.getAttribute('data-color') === color) {
                option.classList.add('selected');
            } else {
                option.classList.remove('selected');
            }
        });
    }
    
    // تحميل إعدادات التمييز من التخزين المحلي
    function loadTaxHighlightSettings() {
        const savedState = localStorage.getItem('taxHighlightEnabled');
        const checkbox = document.getElementById('highlightTaxFieldsEnabled');
        const colorPalette = document.getElementById('taxFieldsColorPalette');
        
        if (savedState !== null) {
            checkbox.checked = savedState === 'true';
            
            if (checkbox.checked) {
                colorPalette.style.display = 'flex';
                
                const savedColor = localStorage.getItem('taxHighlightColor');
                if (savedColor) {
                    applyHighlightColor(savedColor);
                    selectColorOption(savedColor);
                } else {
                    applyHighlightColor('#FFFF99');
                    selectColorOption('#FFFF99');
                }
            }
        } else {
            // الحالة الافتراضية عند عدم وجود إعدادات محفوظة
            checkbox.checked = true;
            colorPalette.style.display = 'flex';
            applyHighlightColor('#FFFF99');
            selectColorOption('#FFFF99');
        }
    }
      

      
// دالة عرض الفيديو المنبثق       
        function openVideoPopup() {
            const modal = document.getElementById('videoModal');
            const videoFrame = document.getElementById('youtubeVideo');
            
            // تعيين رابط فيديو يوتيوب
            videoFrame.src = "https://www.youtube.com/embed/i8VINSBA_S8?autoplay=1";
            
            modal.style.display = "flex";
            setTimeout(() => {
                modal.classList.add('active');
            }, 10);
            
            // منع التمرير عند فتح النافذة
            document.body.style.overflow = 'hidden';
           closeFloatingMenu();
        }
        
        function closeVideoPopup() {
            const modal = document.getElementById('videoModal');
            const videoFrame = document.getElementById('youtubeVideo');
            
            modal.classList.remove('active');
            setTimeout(() => {
                videoFrame.src = "";
                modal.style.display = "none";
            }, 300);
            
            // إعادة التمرير عند الإغلاق
            document.body.style.overflow = 'auto';
        }
        
        // إغلاق النافذة عند النقر خارجها
        window.onclick = function(event) {
            const modal = document.getElementById('videoModal');
            if (event.target == modal) {
                closeVideoPopup();
            }
        }
        
        // إغلاق النافذة عند الضغط على زر ESC
        document.onkeydown = function(evt) {
            evt = evt || window.event;
            if (evt.keyCode == 27) {
                closeVideoPopup();
            }
        };  
      

      
        // دالة عرض الرسالة
        function showPopup(message, type = 'info') {
            const popup = document.getElementById('customPopup');
            const overlay = document.getElementById('popupOverlay');
            const icon = document.getElementById('popupIcon');
            const msg = document.getElementById('popupMessage');
            
            // تعيين الرسالة
            msg.textContent = message;
            
            // تعيين النوع والمظهر
            popup.className = 'popup ' + type;
            
            // تعيين الأيقونة المناسبة
            const icons = {
                'info': 'fas fa-info-circle',
                'warning': 'fas fa-exclamation-triangle',
                'error': 'fas fa-times-circle',
                'success': 'fas fa-check-circle'
            };
            icon.className = 'popup-icon ' + (icons[type] || icons['info']);
            
            // عرض الرسالة
            popup.classList.add('show');
            overlay.classList.add('show');
            
            // إخفاء تلقائي بعد 1 ثانية
            setTimeout(hidePopup, 1000);
        }
        
        // دالة إخفاء الرسالة
        function hidePopup() {
            document.getElementById('customPopup').classList.remove('show');
            document.getElementById('popupOverlay').classList.remove('show');
        }
        
            // مثال للاستخدام
            /*
            أنواع الرسائل المتاحة:
            showPopup("تمت العملية بنجاح", 'info');
            showPopup("تمت العملية بنجاح", 'success');
            showPopup("تحذير: هذا الحقل مطلوب", 'warning');
            showPopup("حدث خطأ غير متوقع", 'error');
            */
    </script>
                      
 
    <script>
        let popupSettings = {
            hideAll: false,
            durations: {
                info: 1000,
                success: 1000,
                warning: 1000,
                error: 1000
            },
            hiddenTypes: {
                info: false,
                success: false,
                warning: false,
                error: false
            }
        };

        // تحميل الإعدادات عند بدء التشغيل
        function loadSettings() {
            const savedSettings = localStorage.getItem('popupSettings');
            if (savedSettings) {
                try {
                    const parsedSettings = JSON.parse(savedSettings);
                    
                    popupSettings = {
                        hideAll: parsedSettings.hideAll !== undefined ? parsedSettings.hideAll : false,
                        durations: {
                            info: parsedSettings.durations?.info || 1000,
                            success: parsedSettings.durations?.success || 1000,
                            warning: parsedSettings.durations?.warning || 1000,
                            error: parsedSettings.durations?.error || 1000
                        },
                        hiddenTypes: {
                            info: parsedSettings.hiddenTypes?.info || false,
                            success: parsedSettings.hiddenTypes?.success || false,
                            warning: parsedSettings.hiddenTypes?.warning || false,
                            error: parsedSettings.hiddenTypes?.error || false
                        }
                    };
                    
                    updateUIFromSettings();
                    
                } catch (e) {
                    console.error('Failed to parse saved settings', e);
                    saveSettingsToLocalStorage();
                }
            } else {
                saveSettingsToLocalStorage();
            }
        }

        // تحديث واجهة المستخدم من الإعدادات
        function updateUIFromSettings() {
            document.getElementById('durationInfo').value = popupSettings.durations.info;
            document.getElementById('durationSuccess').value = popupSettings.durations.success;
            document.getElementById('durationWarning').value = popupSettings.durations.warning;
            document.getElementById('durationError').value = popupSettings.durations.error;
            
            document.getElementById('enableInfo').checked = popupSettings.hiddenTypes.info;
            document.getElementById('enableSuccess').checked = popupSettings.hiddenTypes.success;
            document.getElementById('enableWarning').checked = popupSettings.hiddenTypes.warning;
            document.getElementById('enableError').checked = popupSettings.hiddenTypes.error;
            
            document.getElementById('popupEnabled').checked = popupSettings.hideAll;
        }

        // حفظ الإعدادات في التخزين المحلي
        function saveSettingsToLocalStorage() {
            localStorage.setItem('popupSettings', JSON.stringify(popupSettings));
        }

        function showPopup(message, type = 'info', customDuration = null, isSystemMessage = false) {
            // إذا كانت رسالة نظامية، لا تطبق عليها قواعد الإخفاء
            if (!isSystemMessage && (popupSettings.hideAll || popupSettings.hiddenTypes[type])) {
                return;
            }

            const popup = document.getElementById('customPopup');
            const overlay = document.getElementById('popupOverlay');
            const icon = document.getElementById('popupIcon');
            const msg = document.getElementById('popupMessage');

            msg.textContent = message;
            popup.className = 'popup ' + type;

            const icons = {
                'info': 'fas fa-info-circle info',
                'warning': 'fas fa-exclamation-triangle warning',
                'error': 'fas fa-times-circle error',
                'success': 'fas fa-check-circle success'
            };
            icon.className = 'popup-icon ' + (icons[type] || icons['info']);

            popup.classList.add('show');
            overlay.classList.add('show');

            const duration = customDuration !== null ? customDuration : popupSettings.durations[type] || 1000;
setTimeout(() => {
    // إخفاء الرسالة المنبثقة
    document.getElementById('customPopup').classList.remove('show');
    
    // التحقق من حالة نافذة الإعدادات
    const settingsPopup = document.getElementById('popupSettings');
    const overlay = document.getElementById('popupOverlay');
    
    // إخفاء الخلفية فقط إذا كانت نافذة الإعدادات غير ظاهرة
    if (!settingsPopup.classList.contains('show') && settingsPopup.style.display !== 'block') {
        overlay.classList.remove('show');
    }
}, duration);
        }

        function openSettings() {
            document.getElementById('popupSettings').classList.add('show');
            document.getElementById('popupOverlay').classList.add('show');
            loadSettings();
        }

        function closeSettings() {
            document.getElementById('popupSettings').classList.remove('show');
            document.getElementById('popupOverlay').classList.remove('show');
        }

        function saveSettings() {
            popupSettings.durations.info = parseInt(document.getElementById('durationInfo').value) || 1000;
            popupSettings.durations.success = parseInt(document.getElementById('durationSuccess').value) || 1000;
            popupSettings.durations.warning = parseInt(document.getElementById('durationWarning').value) || 1000;
            popupSettings.durations.error = parseInt(document.getElementById('durationError').value) || 1000;
            
            popupSettings.hiddenTypes.info = document.getElementById('enableInfo').checked;
            popupSettings.hiddenTypes.success = document.getElementById('enableSuccess').checked;
            popupSettings.hiddenTypes.warning = document.getElementById('enableWarning').checked;
            popupSettings.hiddenTypes.error = document.getElementById('enableError').checked;
            
            popupSettings.hideAll = document.getElementById('popupEnabled').checked;

            saveSettingsToLocalStorage();
            showPopup("تم حفظ الإعدادات بنجاح", "success", 1000, true);
            
            setTimeout(closeSettings, 1000);
            closeFloatingMenu();
        }

        function updateSettings(type) {
            const checkbox = document.getElementById('enable' + capitalize(type));
            const isChecked = checkbox.checked;
            
            popupSettings.hiddenTypes[type] = isChecked;
            
            updateHideAllCheckbox();
            
            saveSettingsToLocalStorage();
            
            const typeInArabic = getTypeInArabic(type);
            const message = isChecked ? "تم تفعيل إخفاء رسائل " + typeInArabic : "تم إلغاء إخفاء رسائل " + typeInArabic;
            showPopup(message, isChecked ? 'info' : type, 1000, true);
        }

        function toggleAllMessages() {
            const isChecked = document.getElementById('popupEnabled').checked;
            
            // عرض الرسالة أولاً قبل تطبيق الإعدادات
            const message = isChecked ? "تم تفعيل إخفاء كافة أنواع الرسائل" : "تم إلغاء إخفاء كافة أنواع الرسائل";
            showPopup(message, isChecked ? 'info' : 'success', 1000, true);
            
            // تطبيق الإعدادات بعد عرض الرسالة
            popupSettings.hideAll = isChecked;
            
            if (isChecked) {
                popupSettings.hiddenTypes.info = true;
                popupSettings.hiddenTypes.success = true;
                popupSettings.hiddenTypes.warning = true;
                popupSettings.hiddenTypes.error = true;
            } else {
                popupSettings.hiddenTypes.info = false;
                popupSettings.hiddenTypes.success = false;
                popupSettings.hiddenTypes.warning = false;
                popupSettings.hiddenTypes.error = false;
            }
            
            updateUIFromSettings();
            saveSettingsToLocalStorage();
        }

        function updateHideAllCheckbox() {
            const allChecked = popupSettings.hiddenTypes.info && 
                              popupSettings.hiddenTypes.success && 
                              popupSettings.hiddenTypes.warning && 
                              popupSettings.hiddenTypes.error;
            
            document.getElementById('popupEnabled').checked = allChecked;
            popupSettings.hideAll = allChecked;
            
            if (allChecked) {
                showPopup("تم تفعيل إخفاء كافة أنواع الرسائل تلقائياً", "info", 1000, true);
            }
        }

        function getTypeInArabic(type) {
            const types = {
                'info': 'المعلومات',
                'success': 'النجاح',
                'warning': 'التحذير',
                'error': 'الخطأ'
            };
            return types[type] || type;
        }

        function capitalize(txt) {
            return txt.charAt(0).toUpperCase() + txt.slice(1);
        }

        // تحميل الإعدادات عند بدء التشغيل
        window.addEventListener('DOMContentLoaded', loadSettings);

// إغلاق النافذة عند النقر خارجها
document.addEventListener('click', function(event) {
    const settingsPopup = document.getElementById('popupSettings');
    const overlay = document.getElementById('popupOverlay');
    
    // تحقق مما إذا كانت النافذة ظاهرة (بأي طريقة عرض)
    const isPopupVisible = settingsPopup.classList.contains('show') || 
                         settingsPopup.style.display === 'block';
    
    // تحقق من النقر خارج النافذة وخارج أي عناصر متعلقة بها
    if (isPopupVisible && 
        !event.target.closest('#popupSettings') && 
        !event.target.closest('[onclick*="openSettings"]') &&
        event.target !== settingsPopup) {
        
        closeSettings();
    }
});
   
      
      
function openSettings() {
document.getElementById("popupSettings").style.display = "block";
  
  setTimeout(function() {
    document.getElementById("popupOverlay").classList.add("show");
  }, 50);
}

function closeSettings() {
  document.getElementById("popupSettings").style.display = "none";
  document.getElementById("popupOverlay").classList.remove("show");
}      
    </script>               
                      
    <script>
        // عناصر DOM
        const mainButton = document.getElementById('mainButton');
        const floatingMenu = document.getElementById('floatingMenu');
        const closeMenu = document.getElementById('closeMenu');
        const overlay = document.getElementById('overlay');

        // تبديل القائمة المنبثقة
        mainButton.addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('active');
            floatingMenu.classList.toggle('active');
            
            if (floatingMenu.classList.contains('active')) {
                // إظهار الخلفية المعتمة ومنع التمرير
                overlay.style.display = 'block';
                document.body.classList.add('body-no-scroll');
                document.addEventListener('click', closeMenuOutside);
            } else {
                // إخفاء الخلفية المعتمة وتمكين التمرير
                overlay.style.display = 'none';
                document.body.classList.remove('body-no-scroll');
                document.removeEventListener('click', closeMenuOutside);
            }
        });
        
        // إغلاق القائمة عند النقر على الزر المغلق
        closeMenu.addEventListener('click', function() {
            closeFloatingMenu();
        });
        
function closeMenuOutside(e) {
    const settingsPopup = document.getElementById('popupSettings');
    const videoModal = document.getElementById('videoModal');
    
    const isSettingsVisible = settingsPopup.classList.contains('show') || 
                            settingsPopup.style.display === 'block';
    
    const isVideoVisible = videoModal.style.display === 'block' || 
                         getComputedStyle(videoModal).display === 'block';

    // حالة خاصة: إذا كانت نافذة الفيديو ظاهرة، أغلق القائمة فوراً
    if (isVideoVisible) {
        closeFloatingMenu();
        return; // نخرج من الدالة فوراً بعد الإغلاق
    }
    
    // الحالة العامة: لا تغلق القائمة إذا كانت نافذة الإعدادات ظاهرة
    if (!isSettingsVisible && !floatingMenu.contains(e.target) && e.target !== mainButton) {
        closeFloatingMenu();
    }
}
        
        function closeFloatingMenu() {
            mainButton.classList.remove('active');
            floatingMenu.classList.remove('active');
            overlay.style.display = 'none';
            document.body.classList.remove('body-no-scroll');
            document.removeEventListener('click', closeMenuOutside);
        }


        // إزالة تأثير النبض بعد 5 ثواني
        setTimeout(() => {
            mainButton.classList.remove('pulse');
        }, 5000);

document.addEventListener("DOMContentLoaded", function () {
    showFloatingText(); // استدعاء الدالة عند تحميل الصفحة

    // تكرار إظهار النص العائم كل 30 ثانية
    setInterval(function() {
        showFloatingText();
    }, 30000);
});

// دالة لإظهار النص العائم
function showFloatingText() {
    var floatingText = document.getElementById("floatingText");
    floatingText.style.display = "block";

    // إخفاء النص العائم بعد 5 ثواني
    setTimeout(function() {
        floatingText.style.display = "none";
    }, 5000);
}    
 </script>                      

                      
                      
<script>
function show1() {
  var textbox13 = document.getElementById("textbox13");  
  
  var textbox18 = document.getElementById("textbox18");
  var textbox19 = document.getElementById("textbox19");
  var textbox20 = document.getElementById("textbox20");
  var textbox21 = document.getElementById("textbox21");
  
  
  var textbox4 = document.getElementById("textbox4");
  var textbox14 = document.getElementById("textbox14");
  var textbox15 = document.getElementById("textbox15");
  var textbox16 = document.getElementById("textbox16"); 
  // إذا تم اختيار سيارة أجرة
 
  if ( textbox13.value === "-- اختر من القائمة السلعة / الخدمة --" ) {
    textbox18.style.display = "none";   
    textbox19.style.display = "none"; 
    textbox4.style.display = "none"; 
    textbox14.style.display = "none";    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";
    
  } else if ( textbox13.value === "السعر العام" ) {
    textbox18.style.display = "none";   
    textbox19.style.display = "none"; 
    textbox4.style.display = "none"; 
    textbox14.style.display = "none";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";    
    
  } else if ( textbox13.value === "السعر للتصدير" ) {
    textbox18.style.display = "none";   
    textbox19.style.display = "none"; 
    textbox4.style.display = "none"; 
    textbox14.style.display = "none";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";
    
  } else if ( textbox13.value === "السعر علي الالات والمعدات المستوردة" ) {
    textbox18.style.display = "none";   
    textbox19.style.display = "none"; 
    textbox4.style.display = "none"; 
    textbox14.style.display = "none";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";    
    
  } else if ( textbox13.value === "المقرمشات والمنتجات المصنعة من دقيق" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = ""; 
    
    
  } else if ( textbox13.value === "الحلوي من عجين" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";     

    
  } else if ( textbox13.value === "البطاطس المصنعة ( الشيبسي وأبداله )" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";       
    
    
  } else if ( textbox13.value === "الجبس" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";     
    
    
  } else if ( textbox13.value === "الصابون والمنظفات الصناعية" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";     
    
    
  } else if ( textbox13.value === "المقاولات واعمال التشيد والبناء" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";     
    

             
  } else if ( textbox13.value === "النقل المكيف بين المحافظات" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";                
             
             
             
  } else if ( textbox13.value === "الخدمات المهنية والاستشارية" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = ""; 
             
             
             
  } else if ( textbox13.value === "الانتاج الاعلامي والبرامجي والافلام السينمائية .. الخ" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";              
             
             
  } else if ( textbox13.value === "الايجار أو البيع بشرط له سمة تجارية وتواصل بالناس" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "none";    
    textbox21.style.display = "none"; 
    textbox15.style.display = "none";     
    textbox16.style.display = "none";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";               
             
             
             
  } else if ( textbox13.value === "مياة غازية ( بيبسي وابداله )" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";               
             

             
  } else if ( textbox13.value === "مستحضرات التجميل والعناية والتطرية للبشرة والشعر" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";              
             

             
  } else if ( textbox13.value === "التليفزيونات ( أكبر من 32 بوصة )" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";               
             

             
  } else if ( textbox13.value === "الثلاجات ( أكبر من 16 قدم )" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";             
 

    
    
  } else if ( textbox13.value === "الديب فريزر" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";     

    
    
  } else if ( textbox13.value === "أجهزة التكييف والتبريد ووحداتها" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";    
    

  } else if ( textbox13.value === "خدمات الاتصالات وشبكات المحمول" ) {
    textbox18.style.display = "block";   
    textbox19.style.display = "block"; 
    textbox4.style.display = "block"; 
    textbox14.style.display = "block";
    
    textbox20.style.display = "block";    
    textbox21.style.display = "block"; 
    textbox15.style.display = "block";     
    textbox16.style.display = "block";     
    
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";      
    
  }
}  
</script>                       
                      
                      

<script>
function show2() {
  var textbox9 = document.getElementById("textbox9");  
  
  var textbox24 = document.getElementById("textbox24");
  var textbox25 = document.getElementById("textbox25");
 
  var textbox22 = document.getElementById("textbox22");
  var textbox23 = document.getElementById("textbox23"); 
  
  if ( textbox9.value === "-- اختر من القائمة السلعة / الخدمة --" ) {
    textbox24.style.display = "none";   
    textbox25.style.display = "none"; 
    textbox22.style.display = "none";   
    textbox23.style.display = "none"; 
    textbox24.value = "";
    textbox25.value = "";
    
  } else if ( textbox9.value === "السعر العام" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";   
    
  } else if ( textbox9.value === "السعر للتصدير" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";
    
  } else if ( textbox9.value === "السعر علي الالات والمعدات المستوردة" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";

  
  } else if ( textbox9.value === "مياة غازية ( بيبسي وابداله )" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";               
             

             
  } else if ( textbox9.value === "مستحضرات التجميل والعناية والتطرية للبشرة والشعر" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";             
             

             
  } else if ( textbox9.value === "التليفزيونات ( أكبر من 32 بوصة )" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";        
             

             
  } else if ( textbox9.value === "الثلاجات ( أكبر من 16 قدم )" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";           
 

    
    
  } else if ( textbox9.value === "الديب فريزر" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";    

    
    
  } else if ( textbox9.value === "أجهزة التكييف والتبريد ووحداتها" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";     
    

  } else if ( textbox9.value === "خدمات الاتصالات وشبكات المحمول" ) {
    textbox24.style.display = "block";   
    textbox25.style.display = "block"; 
    textbox22.style.display = "block";   
    textbox23.style.display = "block"; 
    textbox24.value = "";
    textbox25.value = "";      
    
  }
}  
</script>                                             
                      
                      
                      
                      
<script>
function show3() {
  var textbox10 = document.getElementById("textbox10");  
 
  var textbox26 = document.getElementById("textbox26");
  var textbox27 = document.getElementById("textbox27");
  var textbox28 = document.getElementById("textbox28");
  var textbox29 = document.getElementById("textbox29"); 
  // إذا تم اختيار سيارة أجرة
 
  if ( textbox10.value === "-- اختر من القائمة السلعة / الخدمة --" ) {    
    textbox26.style.display = "none";    
    textbox27.style.display = "none"; 
    textbox28.style.display = "none";     
    textbox29.style.display = "none";
    textbox28.value = "";
    textbox29.value = "";
    
 
  } else if ( textbox10.value === "المقرمشات والمنتجات المصنعة من دقيق" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";
    
    
  } else if ( textbox10.value === "الحلوي من عجين" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";  

    
  } else if ( textbox10.value === "البطاطس المصنعة ( الشيبسي وأبداله )" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";    
    
    
  } else if ( textbox10.value === "الجبس" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";   
    
    
  } else if ( textbox10.value === "الصابون والمنظفات الصناعية" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";  
    
    
  } else if ( textbox10.value === "المقاولات واعمال التشيد والبناء" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";   
    

             
  } else if ( textbox10.value === "النقل المكيف بين المحافظات" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";           
             
             
             
  } else if ( textbox10.value === "الخدمات المهنية والاستشارية" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";
             
             
             
  } else if ( textbox10.value === "الانتاج الاعلامي والبرامجي والافلام السينمائية .. الخ" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";         
             
             
  } else if ( textbox10.value === "الايجار أو البيع بشرط له سمة تجارية وتواصل بالناس" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";            
             
             
             
  } else if ( textbox10.value === "مياة غازية ( بيبسي وابداله )" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";             
             

             
  } else if ( textbox13.value === "مستحضرات التجميل والعناية والتطرية للبشرة والشعر" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";            
             

             
  } else if ( textbox10.value === "التليفزيونات ( أكبر من 32 بوصة )" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";             
             

             
  } else if ( textbox10.value === "الثلاجات ( أكبر من 16 قدم )" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";          
 

    
    
  } else if ( textbox10.value === "الديب فريزر" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";

    
    
  } else if ( textbox10.value === "أجهزة التكييف والتبريد ووحداتها" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";
    

  } else if ( textbox10.value === "خدمات الاتصالات وشبكات المحمول" ) {
    textbox26.style.display = "block";    
    textbox27.style.display = "block"; 
    textbox28.style.display = "block";     
    textbox29.style.display = "block";
    textbox28.value = "";
    textbox29.value = "";
    
  }
}  
</script>                                             
                      
                      
                      

    <script>
        function calculateTaxFromInspection() {
          
    var str0 = parseInt(document.getElementById("textbox1").value); 
    var str1 = parseInt(document.getElementById("textbox4").value);
    var str2 = parseInt(document.getElementById("textbox14").value);                
    var str3 = parseInt(document.getElementById("textbox15").value);
    var str4 = parseInt(document.getElementById("textbox16").value);             
         
    const textbox1 = document.getElementById("textbox1");
    const textbox3 = document.getElementById("textbox3");
    const textbox4 = document.getElementById("textbox4");
    const textbox9 = document.getElementById("textbox9");        
    const textbox8 = document.getElementById("textbox8"); 
    const textbox6 = document.getElementById("textbox6");             
    const textbox12 = document.getElementById("textbox12");
    const textbox13 = document.getElementById("textbox13");
    const textbox14 = document.getElementById("textbox14");
    const textbox15 = document.getElementById("textbox15");
    const textbox16 = document.getElementById("textbox16");            
               
    const warningMessage = document.getElementById("warningMessage");          
          
    if (textbox1.value === "") {      
    let caption ="يرجي إدخال القيمة البيعية للسلعة / الخدمة ( إدخال الأرقام باللغة الإنجليزية ).";
    showPopup( caption, 'error');       
    textbox1.value = "";               
    textbox1.focus();
    return;

    }          
         
          

    if (textbox13.value === "-- اختر من القائمة السلعة / الخدمة --") {
    let caption ="يرجي إختيار السلعة / الخدمة.";
    showPopup( caption, 'error');       
    textbox13.focus();
    return;
      
    }  
                    
          
          
    let caption = "";            
          
    if ( textbox13.value === "السعر العام" ) {
    warningMessage.style.display = "none";     
    textbox4.value = 0; 
    textbox14.value = 0;        
    textbox15.value = str0 * 14 / 100; 
    textbox16.value =  str0  + ( str0 * 14 / 100 );  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');   
      
    } else if ( textbox13.value === "السعر للتصدير" ) {
    warningMessage.style.display = "none";
    textbox4.value = 0; 
    textbox14.value = 0;        
    textbox15.value = str0 * 0 / 100; 
    textbox16.value =  str0  + ( str0 * 0 / 100 );  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة القيمة المضافة" + " : " + "0 %";
    showPopup( caption, 'info');   
      

    } else if ( textbox13.value === "السعر علي الالات والمعدات المستوردة" ) {
    warningMessage.style.display = "none";      
    textbox4.value = 0; 
    textbox14.value = 0;        
    textbox15.value = str0 * 5 / 100; 
    textbox16.value =  str0  + ( str0 * 5 / 100 );  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة القيمة المضافة" + " : " + "5 %";
    showPopup( caption, 'info');   
      
 
    } else if ( textbox13.value === "المقرمشات والمنتجات المصنعة من دقيق" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول فقط " + " ويلاحظ أن الجدول للمصنع والمنتج في أول مرحلة تداول .. باقي مراحل التداول للسلعة - التجار لا يوجد ضريبة جدول ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0; 
    setTimeout(function() {      
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
    }, 1500);
      
    } else if ( textbox13.value === "الحلوي من عجين" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول فقط " + " ويلاحظ أن الجدول للمصنع والمنتج في أول مرحلة تداول .. باقي مراحل التداول للسلعة - التجار لا يوجد ضريبة جدول ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;
    setTimeout(function() {      
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
    }, 1500);
      
      

    } else if ( textbox13.value === "البطاطس المصنعة ( الشيبسي وأبداله )" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول فقط " + " ويلاحظ أن الجدول للمصنع والمنتج في أول مرحلة تداول .. باقي مراحل التداول للسلعة - التجار لا يوجد ضريبة جدول ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0; 
    setTimeout(function() {        
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
    }, 1500); 
            
    } else if ( textbox13.value === "الجبس" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول فقط " + " ويلاحظ أن الجدول للمصنع والمنتج في أول مرحلة تداول .. باقي مراحل التداول للسلعة - التجار لا يوجد ضريبة جدول ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;
    setTimeout(function() {        
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
    }, 1500);  
      
    } else if ( textbox13.value === "الصابون والمنظفات الصناعية" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول فقط " + " ويلاحظ أن الجدول للمصنع والمنتج في أول مرحلة تداول .. باقي مراحل التداول للسلعة - التجار لا يوجد ضريبة جدول ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
    }, 1500);       
      
    } else if ( textbox13.value === "المقاولات واعمال التشيد والبناء" ) { 
    warningMessage.style.display = "block";  
    textbox4.value = str0 * 5 / 100;
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
      
    let tax14 = str0 * 14 / 100;
    let tax014 = str0  + ( str0 * 14 / 100 );  
    setTimeout(function() {       
    let caption = "وفق القانون 157 لسنة 2025 تخصع المقاولات للسعر العام إعتباراً من 18/07/2025 !" + " " + "سعر ضريبة القيمة المضافة" + " : " + "14 %" + "ضريبة القيمة المضافة : " + tax14 + " جنية " + "القيمة البيعية شاملة ضريبة القيمة المضافة : " + tax014 + " جنية " ;
    showPopup( caption, 'success');
    }, 1500);     
      
    } else if ( textbox13.value === "النقل المكيف بين المحافظات" ) {  
    warningMessage.style.display = "none";      
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
      
      
    } else if ( textbox13.value === "الخدمات المهنية والاستشارية" ) { 
    warningMessage.style.display = "none";      
    textbox4.value = str0 * 10 / 100; 
    textbox14.value = str0  + ( str0 * 10 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "10 %";
    showPopup( caption, 'info');
      

      
    } else if ( textbox13.value === "الانتاج الاعلامي والبرامجي والافلام السينمائية .. الخ" ) {
    warningMessage.style.display = "none";      
    textbox4.value = str0 * 5 / 100; 
    textbox14.value = str0  + ( str0 * 5 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;  
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "5 %";
    showPopup( caption, 'info');
      
      
      
    } else if ( textbox13.value === "الايجار أو البيع بشرط له سمة تجارية وتواصل بالناس" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول فقط " + " ويلاحظ أن هذا البند كان يحسب بنسبة 14% وذلك قبل 27/01/2022 .. وإعتبارا من هذا التاريخ وطبقا للتعديلات الأخيرة بالقانون 3 لسنة 2022 يحسب بنسة 1% من القيمة البيعية / الإيجارية";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 1 / 100; 
    textbox14.value = str0  + ( str0 * 1 / 100 );        
    textbox15.value = 0; 
    textbox16.value = 0;  
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "1 %";
    showPopup( caption, 'info');
    }, 1500);         

      
      
// جدول + قيمة مضافة       
      
    } else if ( textbox13.value === "مياة غازية ( بيبسي وابداله )" ) {
    warningMessage.style.display = "none";      
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 );  
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);        
     

      
    } else if ( textbox13.value === "مستحضرات التجميل والعناية والتطرية للبشرة والشعر" ) {
    warningMessage.style.display = "none";            
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 );  
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);         
      
      
      
      
    } else if ( textbox13.value === "التليفزيونات ( أكبر من 32 بوصة )" ) {
    warningMessage.style.display = "none";            
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 );  
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);       
      
      
      
    } else if ( textbox13.value === "الثلاجات ( أكبر من 16 قدم )" ) {
    warningMessage.style.display = "none";            
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 );  
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);       
      
      
      
     } else if ( textbox13.value === "الديب فريزر" ) {
    warningMessage.style.display = "none";             
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 ); 
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);       
      
      
     } else if ( textbox13.value === "أجهزة التكييف والتبريد ووحداتها" ) {
    warningMessage.style.display = "none";             
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 );
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);           
       
       
       
       
       
     } else if ( textbox13.value === "خدمات الاتصالات وشبكات المحمول" ) {
    warningMessage.style.display = "none";             
    let caption = "بند" + " : " + textbox13.value + " " + " من سلع الجدول التي تخضع لضريبة الجدول بالإضافة إلي ضريبة القيمة المضافة " + " ويلاحظ أن الجدول للمنتج ( من المصنع لأول مشتري - أول مرحلة تداول ) .. باقي مراحل التداول للسلعة - التجار ضريبة قيمة مضافة فقط ";
    showPopup( caption, 'success');        
    textbox4.value = str0 * 8 / 100; 
    textbox14.value = str0  + ( str0 * 8 / 100 );        
    textbox15.value = textbox14.value * 14 / 100; 
    textbox16.value = str0  + ( str0 * 8 / 100 ) + (textbox14.value * 14 / 100 ); 
    setTimeout(function() {       
    let caption = "تم إحتساب الضريبة بنجاح !" + " " + "سعر ضريبة الجدول" + " : " + "8 %" + " | " + "سعر ضريبة القيمة المضافة" + " : " + "14 %";
    showPopup( caption, 'info');
    }, 1500);        
      
      
      
      
  
    } else {
    alert("");
    textbox1.value = "";
    textbox4.value = "";
    textbox14.value = "";
    textbox15.value = "";
    textbox16.value = "";      
    return;
    }
         
          
    textbox5.value = caption;
    }

      
    </script>

        

                                          
                      
                      
                      
                      
                      

    <script>

        document.getElementById("button4").addEventListener("click", function() {
           
        
        var textbox3 = document.getElementById("textbox3");
        var textbox9 = document.getElementById("textbox9");            
        var textbox24 = document.getElementById("textbox24");            
        var textbox25 = document.getElementById("textbox25");         
        
            
          
    if (textbox3.value === "") {      
    let caption ="يرجي إدخال المبلغ شامل ضريبة القيمة المضافة ( إدخال الأرقام باللغة الإنجليزية ).";
    showPopup( caption, 'error');       
    textbox3.value = "";               
    textbox3.focus();
    return;

    }

    if (textbox9.value === "-- اختر من القائمة السلعة / الخدمة --") {
    let caption ="يرجي إختيار السلعة / الخدمة.";
    showPopup( caption, 'error');      
    textbox9.focus();
    return;
      
    }  
          
    let caption = "";
          
        function showAlert(message) {
            alert(message);
        }
       
          
    if ( textbox3.value > 0  && textbox9.value === "السعر العام") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "السعر العام" + " : " + "14%";
    showPopup( caption, 'info');       
              
      

    } else if ( textbox3.value > 0  && textbox9.value === "السعر علي الالات والمعدات المستوردة") {
    textbox24.value = (textbox3.value * 100 / 105).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "السعر علي الالات والمعدات المستوردة" + " : " + "5%";
    showPopup( caption, 'info');      
      
    } else if ( textbox3.value > 0  && textbox9.value === "مياة غازية ( بيبسي وابداله )") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      
           
      
      
    } else if ( textbox3.value > 0  && textbox9.value === "مستحضرات التجميل والعناية والتطرية للبشرة والشعر") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      
      

    } else if ( textbox3.value > 0  && textbox9.value === "التليفزيونات ( أكبر من 32 بوصة )") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox3.value > 0  && textbox9.value === "الثلاجات ( أكبر من 16 قدم )") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox3.value > 0  && textbox9.value === "الديب فريزر") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox3.value > 0  && textbox9.value === "أجهزة التكييف والتبريد ووحداتها") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      

      
      
    } else if ( textbox3.value > 0  && textbox9.value === "خدمات الاتصالات وشبكات المحمول") {
    textbox24.value = (textbox3.value * 100 / 114).toFixed(0);     
    textbox25.value = textbox3.value - (textbox3.value * 100 / 114).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة القيمة المضافة هو" + " : " + textbox24.value + " جنية " + "ضريبة القيمة المضافة" + " : " + textbox25.value + " جنية" + " " + "سعر ضريبة القيمة المضافة" + " : " + " بند : " + textbox9.value + " 14% ";
    showPopup( caption, 'info');      
      
     
          
        }
        });        
        </script>
          
          
    <script>

        document.getElementById("button5").addEventListener("click", function() {
 
                 
        var textbox28 = document.getElementById("textbox28");            
        var textbox29 = document.getElementById("textbox29");                 
        var textbox30 = document.getElementById("textbox30");                
        var textbox10 = document.getElementById("textbox10"); 
          
     const warningMessage0 = document.getElementById("warningMessage0");             
          
    if (textbox30.value === "") {      
    let caption ="يرجي إدخال المبلغ شامل ضريبة الجدول ( إدخال الأرقام باللغة الإنجليزية ).";
    showPopup( caption, 'error');        
    textbox30.value = "";               
    textbox30.focus();
    return;

    }

    if (textbox10.value === "-- اختر من القائمة السلعة / الخدمة --") {
    let caption ="يرجي إختيار السلعة / الخدمة.";
    showPopup( caption, 'error');  
    textbox10.focus();
    return;
      
    }  
          
    let caption = "";
          
        function showAlert(message) {
            alert(message);
        }
       
          
    if ( textbox30.value > 0 && textbox10.value === "المقرمشات والمنتجات المصنعة من دقيق" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');

    } else if ( textbox30.value > 0 && textbox10.value === "الحلوي من عجين" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
    } else if ( textbox30.value > 0 && textbox10.value === "البطاطس المصنعة ( الشيبسي وأبداله )" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
    } else if ( textbox30.value > 0 && textbox10.value === "الجبس" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "الصابون والمنظفات الصناعية" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
    } else if ( textbox30.value > 0 && textbox10.value === "المقاولات واعمال التشيد والبناء" ) {
    warningMessage0.style.display = "block";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
    let tax14 = (textbox30.value * 100 / 114).toFixed(0);
    let tax014 = textbox30.value - (textbox30.value * 100 / 114).toFixed(0);  
    setTimeout(function() {       
    let caption = "وفق القانون 157 لسنة 2025 تخصع المقاولات للسعر العام إعتباراً من 18/07/2025 !" + " " + "سعر ضريبة القيمة المضافة" + " : " + "14 %" + "أصل المبلغ المحسوب عليه ضريبة القيمة المضافة : " + tax14 + " جنية " + "ضريبة القيمة المضافة : " + tax014 + " جنية " ;
    showPopup( caption, 'success');
    }, 1500);      
           
    } else if ( textbox30.value > 0 && textbox10.value === "النقل المكيف بين المحافظات" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "الخدمات المهنية والاستشارية" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 110).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 110).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 10% ";
    showPopup( caption, 'info');       
 
    } else if ( textbox30.value > 0 && textbox10.value === "الانتاج الاعلامي والبرامجي والافلام السينمائية .. الخ" ) {
    textbox28.value = (textbox30.value * 100 / 105).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 105).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 5% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "الايجار أو البيع بشرط له سمة تجارية وتواصل بالناس" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 101).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 101).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 1% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "مياة غازية ( بيبسي وابداله )" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "مستحضرات التجميل والعناية والتطرية للبشرة والشعر" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "التليفزيونات ( أكبر من 32 بوصة )" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      
      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "الثلاجات ( أكبر من 16 قدم )" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      

      
      
    } else if ( textbox30.value > 0 && textbox10.value === "الديب فريزر" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      
      
      
    } else if ( textbox30.value > 0 && textbox10.value === "أجهزة التكييف والتبريد ووحداتها" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      
      
    } else if ( textbox30.value > 0 && textbox10.value === "خدمات الاتصالات وشبكات المحمول" ) {
    warningMessage0.style.display = "none";      
    textbox28.value = (textbox30.value * 100 / 108).toFixed(0);     
    textbox29.value = textbox30.value - (textbox30.value * 100 / 108).toFixed(0);        
    let caption = "تم إحتساب أصل المبلغ بنجاح !" + " " + "المبلغ المحسوب عليه ضريبة الجدول هو" + " : " + textbox28.value + " جنية " + "ضريبة الجدول" + " : " + textbox29.value + " جنية" + " " + "سعر ضريبة الجدول" + " : " + " بند : " + textbox10.value + " 8% ";
    showPopup( caption, 'info');      
      
          
        }
        });        
        </script>


    <script>

// تبديل الوضع الليلي
function toggleNightMode() {
    const body = document.body;
    body.classList.toggle('dark-mode');
    const nightModeToggle = document.querySelector('.night-mode-toggle');
    const isNightMode = body.classList.contains('dark-mode');
    nightModeToggle.innerHTML = isNightMode ? '☀' : '🌙';
}
// تحميل تفضيل العرض المحفوظ والوضع الليلي
document.addEventListener('DOMContentLoaded', function() {
    const darkModePreference = localStorage.getItem('darkModePreference'); // إضافة تفضيل الوضع الليلي
    // تطبيق الوضع الليلي إذا كان مفعلاً
    if (darkModePreference === 'true') {
        toggleNightMode();
    }
});

// تبديل الوضع الليلي
function toggleNightMode() {
    const body = document.body;
    body.classList.toggle('dark-mode');
    const nightModeToggle = document.querySelector('.night-mode-toggle');
    const isNightMode = body.classList.contains('dark-mode');
    nightModeToggle.innerHTML = isNightMode ? '☀' : '🌙';
    // حفظ تفضيل الوضع الليلي
    localStorage.setItem('darkModePreference', isNightMode ? 'true' : 'false');
}     


       // إظهار النص العائم عند تحميل الصفحة
        window.onload = function() {
            showFloatingText(); // استدعاء الدالة لأول مرة عند تحميل الصفحة

            // تكرار إظهار النص العائم كل 30 ثانية
            setInterval(function() {
                showFloatingText();
            }, 30000);
        };

        // دالة لإظهار النص العائم
        function showFloatingText() {
            var floatingText = document.getElementById("floatingText");
            floatingText.style.display = "block";

            // إخفاء النص العائم بعد 5 ثواني
            setTimeout(function() {
                floatingText.style.display = "none";
            }, 5000);
        }

      
      // إعادة توجيه المستخدم عند الضغط على الأيقونة العائمة
        document.getElementById("youtubeIcon").onclick = function() {
            window.location.href = "https://play.google.com/store/apps/details?id=com.mrizk.taxlawapp";
        };
      
      
  </script> 
      
      
<script>
document.getElementById("button6").addEventListener("click", function () {
  // مسح الحقول القابلة للإدخال
  document.getElementById("textbox1").value = "";
  document.getElementById("textbox3").value = "";
  document.getElementById("textbox30").value = "";

  // مسح الحقول الناتجة
  document.getElementById("textbox4").value = "";
  document.getElementById("textbox14").value = "";
  document.getElementById("textbox15").value = "";
  document.getElementById("textbox16").value = "";
  document.getElementById("textbox24").value = "";
  document.getElementById("textbox25").value = "";
  document.getElementById("textbox28").value = "";
  document.getElementById("textbox29").value = "";
  
  const warningMessage = document.getElementById("warningMessage");          
  const warningMessage0 = document.getElementById("warningMessage0"); 
  
  warningMessage.style.display = "none";   
  warningMessage0.style.display = "none";  

  // تركيز المؤشر على textbox1
  document.getElementById("textbox1").focus();
});
</script>
      
                      
 <script>
 // لتغيير اتجاه الصفحة من اليسار إلى اليمين  (RTL)
document.dir = 'rtl';
</script>  
                      
<script> 
// الجزء الثابت من معرف الزيارة
const expectedVisitIDPrefix = 'Tax Law App | ';

// قائمة بالمعرفات المسموح بها
const allowedVisitIDs = [
    'Tax Law App | 24911910LTLA541',
    'Tax Law App | 24771910YTLA338'
  
    // أضف المزيد من المعرفات المسموح بها هنا
];

// التحقق من معرف الزيارة المخزن في التخزين المحلي
function checkStoredVisitID() {
    const storedVisitID = localStorage.getItem('visitID');
    const expiryTimestamp = localStorage.getItem('visitIDExpiry');
    const freeAccessPressed = localStorage.getItem(getFreeAccessKey());
    const freeAccessBtn = document.getElementById('freeAccessBtn');

    // الحصول على الوقت الحالي
    const currentTime = new Date().getTime();

    // إذا كان هناك معرف مخزن وصلاحيته لم تنتهِ، اظهار المحتوى
    if (storedVisitID && expiryTimestamp && currentTime < expiryTimestamp) {
        document.getElementById('pageContent').style.display = 'block';
        document.getElementById('visitPrompt').style.display = 'none';
    } else {
        // إظهار نافذة الإدخال
        document.getElementById('visitPrompt').style.display = 'block';
    }

    // إذا تم الضغط على زر الدخول المجاني من قبل لهذه الصفحة، قم بتعطيله
    if (freeAccessPressed === 'true') {
        freeAccessBtn.classList.add('disabled');
        freeAccessBtn.disabled = true;

        // إضافة تلميح يظهر عند التمرير على الزر
        freeAccessBtn.title = "تم الدخول مجانا من قبل .. يمكنك التواصل مع مطور التطبيق واتساب : 01030069322 لطلب معرف جديد";
    }
}

// توليد مفتاح فريد لكل صفحة بناءً على نص h2
function getFreeAccessKey() {
    const pageName = document.querySelector('h2').innerText.trim(); // الحصول على نص h2
    return `freeAccessPressed_${pageName}`; // مفتاح مميز لكل صفحة
}

// الدخول لأول مرة (مجاناً)
function firstFreeAccess() {
    // إظهار المحتوى
    document.getElementById('overlay').style.display = 'none';
    document.getElementById('visitPrompt').style.display = 'none';
    document.getElementById('pageContent').style.display = 'block';

    // تعطيل الزر بعد الدخول لأول مرة
    const freeAccessBtn = document.getElementById('freeAccessBtn');
    freeAccessBtn.classList.add('disabled');
    freeAccessBtn.disabled = true;

    // تخزين حالة الضغط على الزر في التخزين المحلي مع مفتاح فريد لكل صفحة
    localStorage.setItem(getFreeAccessKey(), 'true');

    // إخفاء المحتوى بعد 5 دقائق وإعادة إظهار نافذة الإدخال
    setTimeout(() => {
        document.getElementById('pageContent').style.display = 'none';
        document.getElementById('visitPrompt').style.display = 'block';
    }, 300000); // 300 ثانية (5 دقائق)
}

// التحقق من معرف الزيارة المدخل
function checkVisitID() {
    const inputID = document.getElementById('visitIDInput').value.trim(); 
    const messageDiv = document.getElementById('message'); 
    const contactMessageDiv = document.getElementById('contactMessage'); 

    // إذا كان الحقل فارغًا
    if (inputID === '') {
        messageDiv.textContent = 'يرجي إدخال معرف الزيارة الخاص بك.'; 
        document.getElementById('visitIDInput').focus(); 
        return; 
    }

    // الحصول على التاريخ الحالي
    const today = new Date();
    const day = String(today.getDate()).padStart(2, '0'); 
    const month = String(today.getMonth() + 1).padStart(2, '0'); 

    // التحقق من الجزء الأول
    if (!inputID.startsWith(expectedVisitIDPrefix)) {
        messageDiv.textContent = 'عفوا معرف الزيارة الخاص بك غير صحيح .. الرجاء التواصل مع مطور التطبيق واتساب رقم :';
        contactMessageDiv.innerHTML = '<span class="whatsapp-link" onclick="openWhatsApp()">01030069322 | إنقر هنا</span>';
        return;
    }

    // الحصول على الجزء الثاني من المعرف
    const visitIDPart = inputID.slice(expectedVisitIDPrefix.length);

    // بناء التعبير المنتظم للتحقق من الشروط
    const regex = new RegExp(`^24\\d{2}${day}${month}[A-Z]TLA\\d{3}$`);

    // التحقق من الجزء الثاني باستخدام التعبير المنتظم
    if (regex.test(visitIDPart)) {
        // التحقق مما إذا كان المعرف موجودًا في قائمة المسموح بها
        if (allowedVisitIDs.includes(inputID)) {
            // التحقق مما إذا كان المعرف مطابقًا للمعرف المخزن
            const storedVisitID = localStorage.getItem('visitID');
            if (storedVisitID && storedVisitID === inputID) {
                messageDiv.textContent = 'عفوا إنتهت صلاحية معرف الزيارة الخاص بك | لطلب معرف جديد الرجاء التواصل مع مطورالتطبيق واتساب رقم :';
                contactMessageDiv.innerHTML = '<span class="whatsapp-link" onclick="openWhatsApp()">01030069322 | إنقر هنا</span>';
                return;
            } else {
                // إذا كان المعرف مختلفًا، تخزينه وإظهار المحتوى
                localStorage.setItem('visitID', inputID); 
                localStorage.setItem('visitIDExpiry', new Date().getTime() + 86400000); // 24 ساعة

                document.getElementById('overlay').style.display = 'none';
                document.getElementById('visitPrompt').style.display = 'none';
                document.getElementById('pageContent').style.display = 'block';

                // إفراغ حقل إدخال معرف الزيارة
                document.getElementById('visitIDInput').value = '';

        // إخفاء المحتوى بعد 24 ساعة وإعادة إظهار نافذة الإدخال
        setTimeout(() => {
        document.getElementById('pageContent').style.display = 'none';
        document.getElementById('visitPrompt').style.display = 'block';
        }, 86400000); // 24 ساعة
      }
        } else {
            messageDiv.textContent = 'عفوا معرف الزيارة الخاص بك غير مسموح به .. الرجاء التواصل مع مطور التطبيق واتساب رقم :';
        contactMessageDiv.innerHTML = '<span class="whatsapp-link" onclick="openWhatsApp()">01030069322 | إنقر هنا</span>';
        }
    } else {
        messageDiv.textContent = 'عفوا معرف الزيارة الخاص بك غير صحيح .. الرجاء التواصل مع مطور التطبيق واتساب رقم :';
        contactMessageDiv.innerHTML = '<span class="whatsapp-link" onclick="openWhatsApp()">01030069322 | إنقر هنا</span>';
    }
}

// لصق المعرف من الحافظة
function pasteVisitID() {
    navigator.clipboard.readText().then(text => {
        document.getElementById('visitIDInput').value = text; 
    });
}

// إفراغ حقل الإدخال
function clearVisitID() {
    document.getElementById('visitIDInput').value = ''; 
    document.getElementById('message').textContent = ''; 
    document.getElementById('contactMessage').innerHTML = ''; 
}

// فتح واتساب مع الرسالة المحددة
function openWhatsApp() {
    const visitID = document.getElementById('visitIDInput').value.trim();
    const message = `السلام عليكم ورحمة الله وبركاته .. أنا أستخدم تطبيق Tax Law App إستفساري بخصوص طلب معرف الزيارة الخاص بي لشاشة | ${document.querySelector('h2').innerText} | تكلفة المعرف لمرة واحدة ( يوم كامل 24 ساعة ) : 50 جنية معلومات الدفع : يتم دفع تكلفة المعرف إما من خلال 1- محفظة ڤودافون كاش علي الرقم التالي : ( 01030069322 ) 2- تطبيق إنستا باي علي عنوان الدفع التالي : ( mahmoudrizk16@instapay ) 3- أي تطبيق بنكي آخر محافظ إلكترونية وحسابات علي الرقم التالي : ( 01030069322 ) وإرسال صورة إيصال الدفع لتوليد معرف الزيارة الخاص بك | يرجي العلم أن صلاحية معرف الزيارة 24 ساعة فقط ولن يتم توليد المعرف إلا من خلال صورة إيصال الدفع الخاص بك.`;
    const whatsappMessage = encodeURIComponent(message); // ترميز الرسالة
    const whatsappURL = `https://wa.me/201030069322?text=${whatsappMessage}`; // إدخال الرقم مباشرة

    // فتح نافذة واتساب في نافذة جديدة
    var whatsappWindow = window.open(whatsappURL, '_blank');

    // تأخير إغلاق مربع الحوار وتفريغ حقل الإدخال لضمان فتح نافذة واتساب أولاً
    setTimeout(() => {
        // إفراغ حقل إدخال المعرف
        document.getElementById('visitIDInput').value = ''; 
        document.getElementById('message').textContent = ''; 
        document.getElementById('contactMessage').innerHTML = ''; 
    }, 1000); // 1 ثانية
}

// عند تحميل الصفحة
window.onload = () => {
    checkStoredVisitID(); // التحقق من معرف الزيارة المخزن
};   
  
  
// التحقق من التخزين المحلي عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', () => {
    checkStoredVisitID();
  
    // قراءة بيانات المستخدم من localStorage
    const user = JSON.parse(localStorage.getItem('loggedInUser'));

    if (user) {
        // الحصول على التاريخ والوقت الحاليين
        const now = new Date();
        const currentDate = new Date();
        const expiryDateParts = user.expiryDate.split('/');
        const expiryDate = new Date(expiryDateParts[2], expiryDateParts[1] - 1, expiryDateParts[0]);
        const timeDiff = expiryDate - currentDate;
        let daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));

        // إذا كانت الفترة المتبقية فارغة أو أقل من أو تساوي صفر، تعيينها إلى صفر
        if (isNaN(daysDiff) || daysDiff <= 0) {
            daysDiff = 0;
        }

        // عرض اسم المستخدم والفترة المتبقية
        document.getElementById('usernameDisplay').innerHTML = `
            <p><i class="fas fa-user"></i> المستخدم الحالي : ${user.fullName}</p>
            <p><i class="fas fa-hourglass-half"></i> الفترة المتبقية : ${daysDiff} يوم</p>
        `;

        // إذا كانت الفترة المتبقية أكبر من الصفر، إخفاء نافذة إدخال المعرف       
       if (daysDiff > 0) {
            setTimeout(() => {
                document.getElementById('overlay').style.display = 'none';
                document.getElementById('visitPrompt').style.display = 'none';
                document.getElementById('pageContent').style.display = 'block';
            }, 500); // الانتظار لمدة 500 ملي ثانية قبل إخفاء النافذة
        } else {
            // إذا كانت الفترة أقل من أو تساوي صفر، إظهار نافذة إدخال المعرف
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('visitPrompt').style.display = 'block';
        }
    } else {
        // إذا كانت بيانات المستخدم فارغة، إظهار نافذة إدخال المعرف
        //document.getElementById('overlay').style.display = 'block';
        document.getElementById('visitPrompt').style.display = 'block';
    }
}); 
</script>



<script>
function clickIE4() {
    if (2 == event.button) {
        return false;
    }
}

function clickNS4(e) {
    if ((document.layers || (document.getElementById && !document.all)) && (2 == e.which || 3 == e.which)) {
        return false;
    }
}

document.oncontextmenu = function () {
    return false;
};

document.onkeydown = function (e) {
    if (
        123 == e.keyCode ||
        (e.ctrlKey && 73 == e.keyCode) ||
        (e.ctrlKey && 67 == e.keyCode) ||
        (e.ctrlKey && 74 == e.keyCode) ||
        (e.ctrlKey && 80 == e.keyCode) ||
        (e.ctrlKey && 85 == e.keyCode) ||
        (e.ctrlKey && 83 == e.keyCode)
    ) {
        return false;
    }
};
</script> 